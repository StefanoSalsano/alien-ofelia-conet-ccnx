<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CCNx for Android: /tilde/dkords/dev/repos/ccn-external.git/ccnx-0.7.1/csrc/ccnr/ccnr_match.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>/tilde/dkords/dev/repos/ccn-external.git/ccnx-0.7.1/csrc/ccnr/ccnr_match.c File Reference</h1>
<p>Part of ccnr - CCNx Repository Daemon.  
<a href="#_details">More...</a></p>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;netdb.h&gt;</code><br/>
<code>#include &lt;poll.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;stddef.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/un.h&gt;</code><br/>
<code>#include &lt;netinet/in.h&gt;</code><br/>
<code>#include &lt;ccn/bloom.h&gt;</code><br/>
<code>#include &lt;ccn/btree_content.h&gt;</code><br/>
<code>#include &lt;ccn/ccn.h&gt;</code><br/>
<code>#include &lt;ccn/ccn_private.h&gt;</code><br/>
<code>#include &lt;ccn/charbuf.h&gt;</code><br/>
<code>#include &lt;ccn/face_mgmt.h&gt;</code><br/>
<code>#include &lt;ccn/hashtb.h&gt;</code><br/>
<code>#include &lt;ccn/indexbuf.h&gt;</code><br/>
<code>#include &lt;ccn/schedule.h&gt;</code><br/>
<code>#include &lt;ccn/reg_mgmt.h&gt;</code><br/>
<code>#include &lt;ccn/uri.h&gt;</code><br/>
<code>#include &quot;ccnr_private.h&quot;</code><br/>
<code>#include &quot;ccnr_match.h&quot;</code><br/>
<code>#include &quot;ccnr_forwarding.h&quot;</code><br/>
<code>#include &quot;ccnr_io.h&quot;</code><br/>
<code>#include &quot;ccnr_msg.h&quot;</code><br/>
<code>#include &quot;ccnr_sendq.h&quot;</code><br/>
<code>#include &quot;ccnr_store.h&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3827073690a849c676f5aa16c5d90127"></a><!-- doxytag: member="ccnr_match.c::r_match_consume_interest" ref="a3827073690a849c676f5aa16c5d90127" args="(struct ccnr_handle *h, struct propagating_entry *pe)" -->
PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><b>r_match_consume_interest</b> (struct ccnr_handle *h, struct propagating_entry *pe)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__match_8c.html#ac98d8fa5140c54a7fabc773bd58c6742">r_match_consume_matching_interests</a> (struct ccnr_handle *h, struct nameprefix_entry *npe, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, struct ccn_parsed_ContentObject *pc, struct fdholder *fdholder)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Consume matching interests given a nameprefix_entry and a piece of content.  <a href="#ac98d8fa5140c54a7fabc773bd58c6742"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__match_8c.html#aae6b57111d942870d7a7e4ade19a7432">r_match_match_interests</a> (struct ccnr_handle *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, struct ccn_parsed_ContentObject *pc, struct fdholder *fdholder, struct fdholder *from_face)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find and consume interests that match given content.  <a href="#aae6b57111d942870d7a7e4ade19a7432"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Part of ccnr - CCNx Repository Daemon. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac98d8fa5140c54a7fabc773bd58c6742"></a><!-- doxytag: member="ccnr_match.c::r_match_consume_matching_interests" ref="ac98d8fa5140c54a7fabc773bd58c6742" args="(struct ccnr_handle *h, struct nameprefix_entry *npe, struct content_entry *content, struct ccn_parsed_ContentObject *pc, struct fdholder *fdholder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_match_consume_matching_interests </td>
          <td>(</td>
          <td class="paramtype">struct ccnr_handle *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nameprefix_entry *&nbsp;</td>
          <td class="paramname"> <em>npe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ccn_parsed_ContentObject *&nbsp;</td>
          <td class="paramname"> <em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fdholder *&nbsp;</td>
          <td class="paramname"> <em>fdholder</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Consume matching interests given a nameprefix_entry and a piece of content. </p>
<p>If fdholder is not NULL, pay attention only to interests from that fdholder. It is allowed to pass NULL for pc, but if you have a (valid) one it will avoid a re-parse. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of matches found. </dd></dl>

</div>
</div>
<a class="anchor" id="aae6b57111d942870d7a7e4ade19a7432"></a><!-- doxytag: member="ccnr_match.c::r_match_match_interests" ref="aae6b57111d942870d7a7e4ade19a7432" args="(struct ccnr_handle *h, struct content_entry *content, struct ccn_parsed_ContentObject *pc, struct fdholder *fdholder, struct fdholder *from_face)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_match_match_interests </td>
          <td>(</td>
          <td class="paramtype">struct ccnr_handle *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ccn_parsed_ContentObject *&nbsp;</td>
          <td class="paramname"> <em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fdholder *&nbsp;</td>
          <td class="paramname"> <em>fdholder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fdholder *&nbsp;</td>
          <td class="paramname"> <em>from_face</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find and consume interests that match given content. </p>
<p>Schedules the sending of the content. If fdholder is not NULL, pay attention only to interests from that fdholder. It is allowed to pass NULL for pc, but if you have a (valid) one it will avoid a re-parse. For new content, from_face is the source; for old content, from_face is NULL. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of matches, or -1 if the new content should be dropped. </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Feb 4 11:59:13 2013 for CCNx for Android by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
