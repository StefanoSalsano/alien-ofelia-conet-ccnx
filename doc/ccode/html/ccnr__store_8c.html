<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Content-Centric Networking in C: ccnr/ccnr_store.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_fcd5115610c592af72997d6bb8517d72.html">ccnr</a>
  </div>
</div>
<div class="contents">
<h1>ccnr_store.c File Reference</h1>
<p>Part of ccnr - CCNx Repository Daemon.  
<a href="#_details">More...</a></p>

<p><a href="ccnr__store_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcontent__entry.html">content_entry</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The content hash table is keyed by the initial portion of the ContentObject that contains all the parts of the complete name.  <a href="structcontent__entry.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a00e75d347b482ae87d0420e5b1cca893">FAILIF</a>(cond)&nbsp;&nbsp;&nbsp;do {} while ((cond) &amp;&amp; r_store_fatal(h, __func__, __LINE__))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ac4604b17b39247a487c0cc3d0087a72e">CHKSYS</a>(res)&nbsp;&nbsp;&nbsp;FAILIF((res) == -1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#aaf7cd00a3dd8ed9fa292c24dcb4151ab">CHKRES</a>(res)&nbsp;&nbsp;&nbsp;FAILIF((res) &lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a70544e4126ade0a547094953d25db485">CHKPTR</a>(p)&nbsp;&nbsp;&nbsp;FAILIF((p) == NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#aa18e56647329d4fd3fca70282dcf1b54">CCN_BT_CLEAN_BATCH</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of btree index writes to do in a batch.  <a href="#aa18e56647329d4fd3fca70282dcf1b54"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a6d16e54fa12f251bbd72bf98160810f3">CCN_BT_CLEAN_TICK_MICROS</a>&nbsp;&nbsp;&nbsp;65536</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Approximate delay between batches of btree index writes.  <a href="#a6d16e54fa12f251bbd72bf98160810f3"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a6447188caeb093d5b9fd40b3b4403b67">r_store_set_flatname</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *pco)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parses content object and sets content-&gt;flatname.  <a href="#a6447188caeb093d5b9fd40b3b4403b67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a4adb698043133ca24c239b4931df349e">r_store_content_btree_insert</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *pco, <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> *accp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a8a5a6a34596ef8002676548185f68f0b">r_store_fatal</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, const char *fn, int lineno)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a7297e7383093bccca677b96c2be16d5e">r_store_content_accession</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a70e87f04b52f42d0f5563242e3245e92">r_store_content_cookie</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a74b4e2f1e9f862f9d39db49e8d19e499">r_store_content_size</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static off_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a563c6a377b51ddb9d84bf3fcb0816587">r_store_offset_from_accession</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ac4e41c408921574812157f83e2b4c332">r_store_repofile_from_accession</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a839d6d966afc621273843b329af213d5">r_store_content_mapped</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a7c22ad40fd67273abd0572e7ac0f0b62">r_store_content_read</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#aab67c6d367fb967c09dabeff6756b426">r_store_content_trim</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If the content appears to be safely stored in the repository, removes any buffered copy.  <a href="#aab67c6d367fb967c09dabeff6756b426"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ad8cc1745c65a0e5fa8d24684a4072586">r_store_trim</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, unsigned long limit)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Evict recoverable content from in-memory buffers.  <a href="#ad8cc1745c65a0e5fa8d24684a4072586"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC const unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#aaae3d20273f3e24a347f97f29855fe8e">r_store_content_base</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the base address of the content object.  <a href="#aaae3d20273f3e24a347f97f29855fe8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a1174393741ef6f2a3b513766dcf29a97">r_store_name_append_components</a> (struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *dst, struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, int skip, int count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a235317d791a1d46a0ddaac71ffdfe235">r_store_content_flags</a> (struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a1184dd21f735acc3a1fbf6fab2c0132f">r_store_content_change_flags</a> (struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, int set, int clear)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a90e7f3ce47869533a60592e151443331">r_store_write_stable_point</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a file named index/stable that contains the size of repoFile1 when the repository is shut down.  <a href="#a90e7f3ce47869533a60592e151443331"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a8c1706a73916d3c160bca3b1a50ca864">r_store_read_stable_point</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the former size of repoFile1 from index/stable, and remove the latter.  <a href="#a8c1706a73916d3c160bca3b1a50ca864"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ade2d612d23a39283d7f37fe1e653efa4">r_store_reindexing</a> (struct ccn_schedule *sched, void *clienth, struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *ev, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log a bit if we are taking a while to re-index.  <a href="#ade2d612d23a39283d7f37fe1e653efa4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a960328ab0131da171fa1075a69b3df3e">choose_limit</a> (unsigned l, unsigned m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select power of 2 between l and m + 1 (if possible).  <a href="#a960328ab0131da171fa1075a69b3df3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#aa634b29978cf3c2c5bb75e477807dc26">cleanup_content_entry</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#acf4c52e8d23e6243bd091579e8ae7361">finalize_accession</a> (struct <a class="el" href="structhashtb__enumerator.html">hashtb_enumerator</a> *e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a43be7a800c9eceae515afab1b309380f">r_store_init</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#acde18f242380618bdf0ca5c7a62239a0">r_store_final</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, int stable)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a387651e1ec4f65311f48f4541d2ef0e3">r_store_content_from_accession</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> accession)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ae8c17095e61a1aa3402768734729bcf5">r_store_content_from_cookie</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, <a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a> cookie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a182c604a10afa29e663b5ef9c7409870">r_store_enroll_content</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This makes a cookie for content, and, if it has an accession number already, enters it into the content_by_accession_tab.  <a href="#a182c604a10afa29e663b5ef9c7409870"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a2513fc9d41f7b43c441b40b29b5b8ad0">r_store_forget_content</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> **pentry)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove internal representation of a content object.  <a href="#a2513fc9d41f7b43c441b40b29b5b8ad0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a7abbc32cf208a66562096265150450a4">r_store_look</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, const unsigned char *key, size_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a handle on the content object that matches key, or if there is no match, the one that would come just after it.  <a href="#a7abbc32cf208a66562096265150450a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#afaa022159dfca7b3bfd840845198bc73">ccn_append_interest_bounds</a> (const unsigned char *interest_msg, const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *pi, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *lower, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *upper)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract the flatname representations of the bounds for the next component after the name prefix of the interest.  <a href="#afaa022159dfca7b3bfd840845198bc73"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ae928c525ce46100295755fea01e87f7c">r_store_lookup_backwards</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, const unsigned char *interest_msg, const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *pi, struct <a class="el" href="structccn__indexbuf.html">ccn_indexbuf</a> *comps)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#acf33cf2bbc9d109184f04c57cbd4458d">r_store_find_first_match_candidate</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, const unsigned char *interest_msg, const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *pi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a373161d0e77726ee8c135eb03e2a2319">r_store_content_matches_interest_prefix</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, const unsigned char *interest_msg, size_t interest_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a69fd3e01544a9576329f5bb1301d2af4">r_store_content_next</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ab179aa8dea9df6c5183b2eaf55c45ad5">r_store_next_child_at_level</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, int level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a79f1fc95cadf17dd869726090f66c494">r_store_lookup</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, const unsigned char *msg, const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *pi, struct <a class="el" href="structccn__indexbuf.html">ccn_indexbuf</a> *comps)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a18c07809591e2988b192125c1e92d260">r_store_lookup_ccnb</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, const unsigned char *namish, size_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the first content handle that matches the prefix given by the namish, which may be a Name, Interest, ContentObject, .  <a href="#a18c07809591e2988b192125c1e92d260"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a25885e8c4e958c6d152d502b7e1d03f6">r_store_mark_stale</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mark content as stale.  <a href="#a25885e8c4e958c6d152d502b7e1d03f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a214d64cac928f3d7a30509226914d2ba">expire_content</a> (struct ccn_schedule *sched, void *clienth, struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *ev, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scheduled event that makes content stale when its FreshnessSeconds has expired.  <a href="#a214d64cac928f3d7a30509226914d2ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a9e75e3e47dfae135c4e667fa1204f3cd">r_store_set_content_timer</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *pco)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Schedules content expiration based on its FreshnessSeconds.  <a href="#a9e75e3e47dfae135c4e667fa1204f3cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a36e999c840ecfc6ea8c1a325a6cbba6c">r_store_content_flatname</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the flatname associated with content.  <a href="#a36e999c840ecfc6ea8c1a325a6cbba6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#aa806a3059d39e9cd3cdac56c950efbf4">process_incoming_content</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structfdholder.html">fdholder</a> *<a class="el" href="structfdholder.html">fdholder</a>, unsigned char *msg, size_t size, off_t *offsetp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a1c896a62816c08d5f51f9fcf7a126a3b">r_store_content_field_access</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, enum <a class="el" href="coding_8h.html#a720ee1182276ef229dcf775366d84f33">ccn_dtag</a> dtag, const unsigned char **bufp, size_t *sizep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ab29ce4f0a5a30fd836789e5d01ab9a33">r_store_set_accession_from_offset</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content, struct <a class="el" href="structfdholder.html">fdholder</a> *<a class="el" href="structfdholder.html">fdholder</a>, off_t offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a4469202bb4fec5c42645e31eb9399863">r_store_send_content</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structfdholder.html">fdholder</a> *<a class="el" href="structfdholder.html">fdholder</a>, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#afb4f3bb1e938ab7384fc10370de8413c">r_store_commit_content</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a4967ebff8011a63877d2add998be5cfc">ccnr_debug_content</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h, int lineno, const char *msg, struct <a class="el" href="structfdholder.html">fdholder</a> *<a class="el" href="structfdholder.html">fdholder</a>, struct <a class="el" href="structcontent__entry.html">content_entry</a> *content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a842f63048137bb1891679666b653e0f6">r_store_index_cleaner</a> (struct ccn_schedule *sched, void *clienth, struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *ev, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#ae6224dcc3eda470451691b11804c4637">r_store_index_needs_cleaning</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *h)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a49318ac3bf42dd9c26fb1a02adc1f677">bogon</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__store_8c.html#a7a19fc61ebbe33cc0521c182e4bff8bc">r_store_mark_repoFile1</a> = ((<a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>)1) &lt;&lt; 48</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Part of ccnr - CCNx Repository Daemon. </p>

<p>Definition in file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa18e56647329d4fd3fca70282dcf1b54"></a><!-- doxytag: member="ccnr_store.c::CCN_BT_CLEAN_BATCH" ref="aa18e56647329d4fd3fca70282dcf1b54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCN_BT_CLEAN_BATCH&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of btree index writes to do in a batch. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01523">1523</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01527">r_store_index_cleaner()</a>.</p>

</div>
</div>
<a class="anchor" id="a6d16e54fa12f251bbd72bf98160810f3"></a><!-- doxytag: member="ccnr_store.c::CCN_BT_CLEAN_TICK_MICROS" ref="a6d16e54fa12f251bbd72bf98160810f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCN_BT_CLEAN_TICK_MICROS&nbsp;&nbsp;&nbsp;65536</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Approximate delay between batches of btree index writes. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01525">1525</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01527">r_store_index_cleaner()</a>, and <a class="el" href="ccnr__store_8c_source.html#l01622">r_store_index_needs_cleaning()</a>.</p>

</div>
</div>
<a class="anchor" id="a70544e4126ade0a547094953d25db485"></a><!-- doxytag: member="ccnr_store.c::CHKPTR" ref="a70544e4126ade0a547094953d25db485" args="(p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHKPTR</td>
          <td>(</td>
          <td class="paramtype">p&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;FAILIF((p) == NULL)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00094">94</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

</div>
</div>
<a class="anchor" id="aaf7cd00a3dd8ed9fa292c24dcb4151ab"></a><!-- doxytag: member="ccnr_store.c::CHKRES" ref="aaf7cd00a3dd8ed9fa292c24dcb4151ab" args="(res)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHKRES</td>
          <td>(</td>
          <td class="paramtype">res&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;FAILIF((res) &lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00093">93</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac4604b17b39247a487c0cc3d0087a72e"></a><!-- doxytag: member="ccnr_store.c::CHKSYS" ref="ac4604b17b39247a487c0cc3d0087a72e" args="(res)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHKSYS</td>
          <td>(</td>
          <td class="paramtype">res&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;FAILIF((res) == -1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00092">92</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

</div>
</div>
<a class="anchor" id="a00e75d347b482ae87d0420e5b1cca893"></a><!-- doxytag: member="ccnr_store.c::FAILIF" ref="a00e75d347b482ae87d0420e5b1cca893" args="(cond)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAILIF</td>
          <td>(</td>
          <td class="paramtype">cond&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;do {} while ((cond) &amp;&amp; r_store_fatal(h, __func__, __LINE__))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00091">91</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afaa022159dfca7b3bfd840845198bc73"></a><!-- doxytag: member="ccnr_store.c::ccn_append_interest_bounds" ref="afaa022159dfca7b3bfd840845198bc73" args="(const unsigned char *interest_msg, const struct ccn_parsed_interest *pi, struct ccn_charbuf *lower, struct ccn_charbuf *upper)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ccn_append_interest_bounds </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>interest_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *&nbsp;</td>
          <td class="paramname"> <em>pi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&nbsp;</td>
          <td class="paramname"> <em>lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&nbsp;</td>
          <td class="paramname"> <em>upper</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extract the flatname representations of the bounds for the next component after the name prefix of the interest. </p>
<p>These are exclusive bounds. The results are appended to lower and upper (when not NULL). If there is no lower bound, lower will be unchanged. If there is no upper bound, a sentinel value is appended to upper.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>on success the number of Components in Exclude. A negative value indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00866">866</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01010">r_store_find_first_match_candidate()</a>, and <a class="el" href="ccnr__store_8c_source.html#l00928">r_store_lookup_backwards()</a>.</p>

</div>
</div>
<a class="anchor" id="a4967ebff8011a63877d2add998be5cfc"></a><!-- doxytag: member="ccnr_store.c::ccnr_debug_content" ref="a4967ebff8011a63877d2add998be5cfc" args="(struct ccnr_handle *h, int lineno, const char *msg, struct fdholder *fdholder, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void ccnr_debug_content </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfdholder.html">fdholder</a> *&nbsp;</td>
          <td class="paramname"> <em>fdholder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01501">1501</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00457">cleanup_content_entry()</a>, <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>, <a class="el" href="ccnr__proto_8c_source.html#l01126">r_proto_continue_enumeration()</a>, <a class="el" href="ccnr__store_8c_source.html#l00617">r_store_content_from_accession()</a>, <a class="el" href="ccnr__store_8c_source.html#l00769">r_store_forget_content()</a>, <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>, <a class="el" href="ccnr__store_8c_source.html#l01213">r_store_mark_stale()</a>, <a class="el" href="ccnr__store_8c_source.html#l01054">r_store_next_child_at_level()</a>, <a class="el" href="ccnr__store_8c_source.html#l01458">r_store_send_content()</a>, <a class="el" href="ccnr__store_8c_source.html#l01254">r_store_set_content_timer()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00498">r_sync_local_store()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00147">r_sync_notify_content()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00455">r_sync_upcall_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a960328ab0131da171fa1075a69b3df3e"></a><!-- doxytag: member="ccnr_store.c::choose_limit" ref="a960328ab0131da171fa1075a69b3df3e" args="(unsigned l, unsigned m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned choose_limit </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Select power of 2 between l and m + 1 (if possible). </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00445">445</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00487">r_store_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa634b29978cf3c2c5bb75e477807dc26"></a><!-- doxytag: member="ccnr_store.c::cleanup_content_entry" ref="aa634b29978cf3c2c5bb75e477807dc26" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cleanup_content_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00457">457</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00478">finalize_accession()</a>, and <a class="el" href="ccnr__store_8c_source.html#l00769">r_store_forget_content()</a>.</p>

</div>
</div>
<a class="anchor" id="a214d64cac928f3d7a30509226914d2ba"></a><!-- doxytag: member="ccnr_store.c::expire_content" ref="a214d64cac928f3d7a30509226914d2ba" args="(struct ccn_schedule *sched, void *clienth, struct ccn_scheduled_event *ev, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int expire_content </td>
          <td>(</td>
          <td class="paramtype">struct ccn_schedule *&nbsp;</td>
          <td class="paramname"> <em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>clienth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Scheduled event that makes content stale when its FreshnessSeconds has expired. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01233">1233</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01254">r_store_set_content_timer()</a>.</p>

</div>
</div>
<a class="anchor" id="acf4c52e8d23e6243bd091579e8ae7361"></a><!-- doxytag: member="ccnr_store.c::finalize_accession" ref="acf4c52e8d23e6243bd091579e8ae7361" args="(struct hashtb_enumerator *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void finalize_accession </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhashtb__enumerator.html">hashtb_enumerator</a> *&nbsp;</td>
          <td class="paramname"> <em>e</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00478">478</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00487">r_store_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa806a3059d39e9cd3cdac56c950efbf4"></a><!-- doxytag: member="ccnr_store.c::process_incoming_content" ref="aa806a3059d39e9cd3cdac56c950efbf4" args="(struct ccnr_handle *h, struct fdholder *fdholder, unsigned char *msg, size_t size, off_t *offsetp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* process_incoming_content </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfdholder.html">fdholder</a> *&nbsp;</td>
          <td class="paramname"> <em>fdholder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *&nbsp;</td>
          <td class="paramname"> <em>offsetp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01337">1337</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

</div>
</div>
<a class="anchor" id="afb4f3bb1e938ab7384fc10370de8413c"></a><!-- doxytag: member="ccnr_store.c::r_store_commit_content" ref="afb4f3bb1e938ab7384fc10370de8413c" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_commit_content </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01483">1483</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00920">load_policy()</a>, <a class="el" href="ccnr__dispatch_8c_source.html#l00074">process_input_message()</a>, <a class="el" href="ccnr__init_8c_source.html#l00711">r_init_map_and_process_file()</a>, <a class="el" href="ccnr__proto_8c_source.html#l00340">r_proto_expect_content()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00498">r_sync_local_store()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00455">r_sync_upcall_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a7297e7383093bccca677b96c2be16d5e"></a><!-- doxytag: member="ccnr_store.c::r_store_content_accession" ref="a7297e7383093bccca677b96c2be16d5e" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> r_store_content_accession </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00109">109</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00147">r_sync_notify_content()</a>.</p>

</div>
</div>
<a class="anchor" id="aaae3d20273f3e24a347f97f29855fe8e"></a><!-- doxytag: member="ccnr_store.c::r_store_content_base" ref="aaae3d20273f3e24a347f97f29855fe8e" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC const unsigned char* r_store_content_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the base address of the content object. </p>
<p>This may involve reading the object in. Caller should not assume that the address will stay valid after it relinquishes control, either by returning or by calling routines that might invalidate objects. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00264">264</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00920">load_policy()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00421">r_lookup()</a>, <a class="el" href="ccnr__match_8c_source.html#l00097">r_match_consume_matching_interests()</a>, <a class="el" href="ccnr__proto_8c_source.html#l00485">r_proto_policy_update()</a>, <a class="el" href="ccnr__store_8c_source.html#l00706">r_store_content_btree_insert()</a>, <a class="el" href="ccnr__store_8c_source.html#l01388">r_store_content_field_access()</a>, <a class="el" href="ccnr__store_8c_source.html#l00617">r_store_content_from_accession()</a>, <a class="el" href="ccnr__store_8c_source.html#l01458">r_store_send_content()</a>, <a class="el" href="ccnr__store_8c_source.html#l01254">r_store_set_content_timer()</a>, and <a class="el" href="ccnr__store_8c_source.html#l01290">r_store_set_flatname()</a>.</p>

</div>
</div>
<a class="anchor" id="a4adb698043133ca24c239b4931df349e"></a><!-- doxytag: member="ccnr_store.c::r_store_content_btree_insert" ref="a4adb698043133ca24c239b4931df349e" args="(struct ccnr_handle *h, struct content_entry *content, struct ccn_parsed_ContentObject *pco, ccnr_accession *accp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int r_store_content_btree_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *&nbsp;</td>
          <td class="paramname"> <em>pco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> *&nbsp;</td>
          <td class="paramname"> <em>accp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>2 if content was added to index, 1 if it was there but had no accession, 0 if it was already there, -1 for error </dd></dl>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00706">706</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>, and <a class="el" href="ccnr__store_8c_source.html#l00617">r_store_content_from_accession()</a>.</p>

</div>
</div>
<a class="anchor" id="a1184dd21f735acc3a1fbf6fab2c0132f"></a><!-- doxytag: member="ccnr_store.c::r_store_content_change_flags" ref="a1184dd21f735acc3a1fbf6fab2c0132f" args="(struct content_entry *content, int set, int clear)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_content_change_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>clear</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00318">318</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01483">r_store_commit_content()</a>.</p>

</div>
</div>
<a class="anchor" id="a70e87f04b52f42d0f5563242e3245e92"></a><!-- doxytag: member="ccnr_store.c::r_store_content_cookie" ref="a70e87f04b52f42d0f5563242e3245e92" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a> r_store_content_cookie </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00115">115</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00340">r_proto_expect_content()</a>, <a class="el" href="ccnr__sendq_8c_source.html#l00222">r_sendq_face_send_queue_insert()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00455">r_sync_upcall_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c896a62816c08d5f51f9fcf7a126a3b"></a><!-- doxytag: member="ccnr_store.c::r_store_content_field_access" ref="a1c896a62816c08d5f51f9fcf7a126a3b" args="(struct ccnr_handle *h, struct content_entry *content, enum ccn_dtag dtag, const unsigned char **bufp, size_t *sizep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_content_field_access </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="coding_8h.html#a720ee1182276ef229dcf775366d84f33">ccn_dtag</a>&nbsp;</td>
          <td class="paramname"> <em>dtag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char **&nbsp;</td>
          <td class="paramname"> <em>bufp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>sizep</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01388">1388</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

</div>
</div>
<a class="anchor" id="a235317d791a1d46a0ddaac71ffdfe235"></a><!-- doxytag: member="ccnr_store.c::r_store_content_flags" ref="a235317d791a1d46a0ddaac71ffdfe235" args="(struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_content_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00312">312</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__sendq_8c_source.html#l00222">r_sendq_face_send_queue_insert()</a>, <a class="el" href="ccnr__store_8c_source.html#l01483">r_store_commit_content()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00498">r_sync_local_store()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00455">r_sync_upcall_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a36e999c840ecfc6ea8c1a325a6cbba6c"></a><!-- doxytag: member="ccnr_store.c::r_store_content_flatname" ref="a36e999c840ecfc6ea8c1a325a6cbba6c" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a>* r_store_content_flatname </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the flatname associated with content. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>flatname in a charbuf, which should be treated as read-only. </dd></dl>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01331">1331</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>.</p>

</div>
</div>
<a class="anchor" id="a387651e1ec4f65311f48f4541d2ef0e3"></a><!-- doxytag: member="ccnr_store.c::r_store_content_from_accession" ref="a387651e1ec4f65311f48f4541d2ef0e3" args="(struct ccnr_handle *h, ccnr_accession accession)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_content_from_accession </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>&nbsp;</td>
          <td class="paramname"> <em>accession</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00617">617</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>, <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8c17095e61a1aa3402768734729bcf5"></a><!-- doxytag: member="ccnr_store.c::r_store_content_from_cookie" ref="ae8c17095e61a1aa3402768734729bcf5" args="(struct ccnr_handle *h, ccnr_cookie cookie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_content_from_cookie </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a>&nbsp;</td>
          <td class="paramname"> <em>cookie</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00660">660</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__sendq_8c_source.html#l00135">content_sender()</a>, <a class="el" href="ccnr__store_8c_source.html#l01233">expire_content()</a>, <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>.</p>

</div>
</div>
<a class="anchor" id="a839d6d966afc621273843b329af213d5"></a><!-- doxytag: member="ccnr_store.c::r_store_content_mapped" ref="a839d6d966afc621273843b329af213d5" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const unsigned char* r_store_content_mapped </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00141">141</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00264">r_store_content_base()</a>.</p>

</div>
</div>
<a class="anchor" id="a373161d0e77726ee8c135eb03e2a2319"></a><!-- doxytag: member="ccnr_store.c::r_store_content_matches_interest_prefix" ref="a373161d0e77726ee8c135eb03e2a2319" args="(struct ccnr_handle *h, struct content_entry *content, const unsigned char *interest_msg, size_t interest_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_content_matches_interest_prefix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>interest_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>interest_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01026">1026</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00989">r_proto_begin_enumeration()</a>, <a class="el" href="ccnr__proto_8c_source.html#l01126">r_proto_continue_enumeration()</a>, <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>.</p>

</div>
</div>
<a class="anchor" id="a69fd3e01544a9576329f5bb1301d2af4"></a><!-- doxytag: member="ccnr_store.c::r_store_content_next" ref="a69fd3e01544a9576329f5bb1301d2af4" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_content_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01043">1043</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00221">r_sync_enumerate_action()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c22ad40fd67273abd0572e7ac0f0b62"></a><!-- doxytag: member="ccnr_store.c::r_store_content_read" ref="a7c22ad40fd67273abd0572e7ac0f0b62" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const unsigned char* r_store_content_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00147">147</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00264">r_store_content_base()</a>.</p>

</div>
</div>
<a class="anchor" id="a74b4e2f1e9f862f9d39db49e8d19e499"></a><!-- doxytag: member="ccnr_store.c::r_store_content_size" ref="a74b4e2f1e9f862f9d39db49e8d19e499" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC size_t r_store_content_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00121">121</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00920">load_policy()</a>, <a class="el" href="ccnr__sync_8c_source.html#l00421">r_lookup()</a>, <a class="el" href="ccnr__match_8c_source.html#l00097">r_match_consume_matching_interests()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00485">r_proto_policy_update()</a>.</p>

</div>
</div>
<a class="anchor" id="aab67c6d367fb967c09dabeff6756b426"></a><!-- doxytag: member="ccnr_store.c::r_store_content_trim" ref="aab67c6d367fb967c09dabeff6756b426" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_content_trim </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If the content appears to be safely stored in the repository, removes any buffered copy. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if buffer was removed, -1 if not. </dd></dl>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00215">215</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00229">r_store_trim()</a>.</p>

</div>
</div>
<a class="anchor" id="a182c604a10afa29e663b5ef9c7409870"></a><!-- doxytag: member="ccnr_store.c::r_store_enroll_content" ref="a182c604a10afa29e663b5ef9c7409870" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a> r_store_enroll_content </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This makes a cookie for content, and, if it has an accession number already, enters it into the content_by_accession_tab. </p>
<p>Does not index by name. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00675">675</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>, <a class="el" href="ccnr__store_8c_source.html#l00617">r_store_content_from_accession()</a>, and <a class="el" href="ccnr__store_8c_source.html#l00810">r_store_look()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a5a6a34596ef8002676548185f68f0b"></a><!-- doxytag: member="ccnr_store.c::r_store_fatal" ref="a8a5a6a34596ef8002676548185f68f0b" args="(struct ccnr_handle *h, const char *fn, int lineno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int r_store_fatal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lineno</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00097">97</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

</div>
</div>
<a class="anchor" id="acde18f242380618bdf0ca5c7a62239a0"></a><!-- doxytag: member="ccnr_store.c::r_store_final" ref="acde18f242380618bdf0ca5c7a62239a0" args="(struct ccnr_handle *h, int stable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_final </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stable</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00605">605</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00653">r_init_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="acf33cf2bbc9d109184f04c57cbd4458d"></a><!-- doxytag: member="ccnr_store.c::r_store_find_first_match_candidate" ref="acf33cf2bbc9d109184f04c57cbd4458d" args="(struct ccnr_handle *h, const unsigned char *interest_msg, const struct ccn_parsed_interest *pi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_find_first_match_candidate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>interest_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *&nbsp;</td>
          <td class="paramname"> <em>pi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01010">1010</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00989">r_proto_begin_enumeration()</a>, and <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a2513fc9d41f7b43c441b40b29b5b8ad0"></a><!-- doxytag: member="ccnr_store.c::r_store_forget_content" ref="a2513fc9d41f7b43c441b40b29b5b8ad0" args="(struct ccnr_handle *h, struct content_entry **pentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void r_store_forget_content </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> **&nbsp;</td>
          <td class="paramname"> <em>pentry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove internal representation of a content object. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00769">769</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>, <a class="el" href="ccnr__store_8c_source.html#l00617">r_store_content_from_accession()</a>, and <a class="el" href="ccnr__store_8c_source.html#l00675">r_store_enroll_content()</a>.</p>

</div>
</div>
<a class="anchor" id="a842f63048137bb1891679666b653e0f6"></a><!-- doxytag: member="ccnr_store.c::r_store_index_cleaner" ref="a842f63048137bb1891679666b653e0f6" args="(struct ccn_schedule *sched, void *clienth, struct ccn_scheduled_event *ev, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int r_store_index_cleaner </td>
          <td>(</td>
          <td class="paramtype">struct ccn_schedule *&nbsp;</td>
          <td class="paramname"> <em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>clienth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01527">1527</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01622">r_store_index_needs_cleaning()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6224dcc3eda470451691b11804c4637"></a><!-- doxytag: member="ccnr_store.c::r_store_index_needs_cleaning" ref="ae6224dcc3eda470451691b11804c4637" args="(struct ccnr_handle *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void r_store_index_needs_cleaning </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01622">1622</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00706">r_store_content_btree_insert()</a>, <a class="el" href="ccnr__store_8c_source.html#l00487">r_store_init()</a>, and <a class="el" href="ccnr__store_8c_source.html#l00229">r_store_trim()</a>.</p>

</div>
</div>
<a class="anchor" id="a43be7a800c9eceae515afab1b309380f"></a><!-- doxytag: member="ccnr_store.c::r_store_init" ref="a43be7a800c9eceae515afab1b309380f" args="(struct ccnr_handle *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void r_store_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00487">487</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00468">r_init_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a7abbc32cf208a66562096265150450a4"></a><!-- doxytag: member="ccnr_store.c::r_store_look" ref="a7abbc32cf208a66562096265150450a4" args="(struct ccnr_handle *h, const unsigned char *key, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_look </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a handle on the content object that matches key, or if there is no match, the one that would come just after it. </p>
<p>The key is in flatname format. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00810">810</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01043">r_store_content_next()</a>, <a class="el" href="ccnr__store_8c_source.html#l01010">r_store_find_first_match_candidate()</a>, <a class="el" href="ccnr__store_8c_source.html#l00928">r_store_lookup_backwards()</a>, <a class="el" href="ccnr__store_8c_source.html#l01182">r_store_lookup_ccnb()</a>, and <a class="el" href="ccnr__store_8c_source.html#l01054">r_store_next_child_at_level()</a>.</p>

</div>
</div>
<a class="anchor" id="a79f1fc95cadf17dd869726090f66c494"></a><!-- doxytag: member="ccnr_store.c::r_store_lookup" ref="a79f1fc95cadf17dd869726090f66c494" args="(struct ccnr_handle *h, const unsigned char *msg, const struct ccn_parsed_interest *pi, struct ccn_indexbuf *comps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *&nbsp;</td>
          <td class="paramname"> <em>pi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__indexbuf.html">ccn_indexbuf</a> *&nbsp;</td>
          <td class="paramname"> <em>comps</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01095">1095</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__sync_8c_source.html#l00421">r_lookup()</a>, <a class="el" href="ccnr__proto_8c_source.html#l00093">r_proto_answer_req()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00762">r_proto_start_write_checked()</a>.</p>

</div>
</div>
<a class="anchor" id="ae928c525ce46100295755fea01e87f7c"></a><!-- doxytag: member="ccnr_store.c::r_store_lookup_backwards" ref="ae928c525ce46100295755fea01e87f7c" args="(struct ccnr_handle *h, const unsigned char *interest_msg, const struct ccn_parsed_interest *pi, struct ccn_indexbuf *comps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_lookup_backwards </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>interest_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structccn__parsed__interest.html">ccn_parsed_interest</a> *&nbsp;</td>
          <td class="paramname"> <em>pi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__indexbuf.html">ccn_indexbuf</a> *&nbsp;</td>
          <td class="paramname"> <em>comps</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00928">928</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a18c07809591e2988b192125c1e92d260"></a><!-- doxytag: member="ccnr_store.c::r_store_lookup_ccnb" ref="a18c07809591e2988b192125c1e92d260" args="(struct ccnr_handle *h, const unsigned char *namish, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_lookup_ccnb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>namish</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the first content handle that matches the prefix given by the namish, which may be a Name, Interest, ContentObject, . </p>
<p>..</p>
<p>Does not check the other parts of namish, in particular, does not generate the digest component of a ContentObject. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01182">1182</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00920">load_policy()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00485">r_proto_policy_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a25885e8c4e958c6d152d502b7e1d03f6"></a><!-- doxytag: member="ccnr_store.c::r_store_mark_stale" ref="a25885e8c4e958c6d152d502b7e1d03f6" args="(struct ccnr_handle *h, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void r_store_mark_stale </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mark content as stale. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01213">1213</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01233">expire_content()</a>.</p>

</div>
</div>
<a class="anchor" id="a1174393741ef6f2a3b513766dcf29a97"></a><!-- doxytag: member="ccnr_store.c::r_store_name_append_components" ref="a1174393741ef6f2a3b513766dcf29a97" args="(struct ccn_charbuf *dst, struct ccnr_handle *h, struct content_entry *content, int skip, int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_name_append_components </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>skip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00297">297</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__match_8c_source.html#l00146">r_match_match_interests()</a>, <a class="el" href="ccnr__proto_8c_source.html#l01126">r_proto_continue_enumeration()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00147">r_sync_notify_content()</a>.</p>

</div>
</div>
<a class="anchor" id="ab179aa8dea9df6c5183b2eaf55c45ad5"></a><!-- doxytag: member="ccnr_store.c::r_store_next_child_at_level" ref="ab179aa8dea9df6c5183b2eaf55c45ad5" args="(struct ccnr_handle *h, struct content_entry *content, int level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC struct <a class="el" href="structcontent__entry.html">content_entry</a>* r_store_next_child_at_level </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01054">1054</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l01126">r_proto_continue_enumeration()</a>, and <a class="el" href="ccnr__store_8c_source.html#l01095">r_store_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a563c6a377b51ddb9d84bf3fcb0816587"></a><!-- doxytag: member="ccnr_store.c::r_store_offset_from_accession" ref="a563c6a377b51ddb9d84bf3fcb0816587" args="(struct ccnr_handle *h, ccnr_accession a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static off_t r_store_offset_from_accession </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>&nbsp;</td>
          <td class="paramname"> <em>a</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00127">127</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00147">r_store_content_read()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c1706a73916d3c160bca3b1a50ca864"></a><!-- doxytag: member="ccnr_store.c::r_store_read_stable_point" ref="a8c1706a73916d3c160bca3b1a50ca864" args="(struct ccnr_handle *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void r_store_read_stable_point </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the former size of repoFile1 from index/stable, and remove the latter. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00375">375</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00487">r_store_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ade2d612d23a39283d7f37fe1e653efa4"></a><!-- doxytag: member="ccnr_store.c::r_store_reindexing" ref="ade2d612d23a39283d7f37fe1e653efa4" args="(struct ccn_schedule *sched, void *clienth, struct ccn_scheduled_event *ev, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int r_store_reindexing </td>
          <td>(</td>
          <td class="paramtype">struct ccn_schedule *&nbsp;</td>
          <td class="paramname"> <em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>clienth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Log a bit if we are taking a while to re-index. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00420">420</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00487">r_store_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ac4e41c408921574812157f83e2b4c332"></a><!-- doxytag: member="ccnr_store.c::r_store_repofile_from_accession" ref="ac4e41c408921574812157f83e2b4c332" args="(struct ccnr_handle *h, ccnr_accession a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned r_store_repofile_from_accession </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>&nbsp;</td>
          <td class="paramname"> <em>a</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00133">133</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00147">r_store_content_read()</a>.</p>

</div>
</div>
<a class="anchor" id="a4469202bb4fec5c42645e31eb9399863"></a><!-- doxytag: member="ccnr_store.c::r_store_send_content" ref="a4469202bb4fec5c42645e31eb9399863" args="(struct ccnr_handle *h, struct fdholder *fdholder, struct content_entry *content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void r_store_send_content </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfdholder.html">fdholder</a> *&nbsp;</td>
          <td class="paramname"> <em>fdholder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01458">1458</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__link_8c_source.html#l00073">r_link_send_content()</a>, and <a class="el" href="ccnr__store_8c_source.html#l01483">r_store_commit_content()</a>.</p>

</div>
</div>
<a class="anchor" id="ab29ce4f0a5a30fd836789e5d01ab9a33"></a><!-- doxytag: member="ccnr_store.c::r_store_set_accession_from_offset" ref="ab29ce4f0a5a30fd836789e5d01ab9a33" args="(struct ccnr_handle *h, struct content_entry *content, struct fdholder *fdholder, off_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC int r_store_set_accession_from_offset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfdholder.html">fdholder</a> *&nbsp;</td>
          <td class="paramname"> <em>fdholder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01413">1413</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01458">r_store_send_content()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e75e3e47dfae135c4e667fa1204f3cd"></a><!-- doxytag: member="ccnr_store.c::r_store_set_content_timer" ref="a9e75e3e47dfae135c4e667fa1204f3cd" args="(struct ccnr_handle *h, struct content_entry *content, struct ccn_parsed_ContentObject *pco)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void r_store_set_content_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *&nbsp;</td>
          <td class="paramname"> <em>pco</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schedules content expiration based on its FreshnessSeconds. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01254">1254</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>.</p>

</div>
</div>
<a class="anchor" id="a6447188caeb093d5b9fd40b3b4403b67"></a><!-- doxytag: member="ccnr_store.c::r_store_set_flatname" ref="a6447188caeb093d5b9fd40b3b4403b67" args="(struct ccnr_handle *h, struct content_entry *content, struct ccn_parsed_ContentObject *pco)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int r_store_set_flatname </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcontent__entry.html">content_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *&nbsp;</td>
          <td class="paramname"> <em>pco</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parses content object and sets content-&gt;flatname. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l01290">1290</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>, and <a class="el" href="ccnr__store_8c_source.html#l00617">r_store_content_from_accession()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8cc1745c65a0e5fa8d24684a4072586"></a><!-- doxytag: member="ccnr_store.c::r_store_trim" ref="ad8cc1745c65a0e5fa8d24684a4072586" args="(struct ccnr_handle *h, unsigned long limit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void r_store_trim </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>limit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Evict recoverable content from in-memory buffers. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00229">229</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__dispatch_8c_source.html#l00294">r_dispatch_run()</a>, and <a class="el" href="ccnr__init_8c_source.html#l00468">r_init_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a90e7f3ce47869533a60592e151443331"></a><!-- doxytag: member="ccnr_store.c::r_store_write_stable_point" ref="a90e7f3ce47869533a60592e151443331" args="(struct ccnr_handle *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int r_store_write_stable_point </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a file named index/stable that contains the size of repoFile1 when the repository is shut down. </p>

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00331">331</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00605">r_store_final()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a49318ac3bf42dd9c26fb1a02adc1f677"></a><!-- doxytag: member="ccnr_store.c::bogon" ref="a49318ac3bf42dd9c26fb1a02adc1f677" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char* <a class="el" href="ccnr__store_8c.html#a49318ac3bf42dd9c26fb1a02adc1f677">bogon</a> = NULL<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00079">79</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l00264">r_store_content_base()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a19fc61ebbe33cc0521c182e4bff8bc"></a><!-- doxytag: member="ccnr_store.c::r_store_mark_repoFile1" ref="a7a19fc61ebbe33cc0521c182e4bff8bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> <a class="el" href="ccnr__store_8c.html#a7a19fc61ebbe33cc0521c182e4bff8bc">r_store_mark_repoFile1</a> = ((<a class="el" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>)1) &lt;&lt; 48</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__store_8c_source.html#l00080">80</a> of file <a class="el" href="ccnr__store_8c_source.html">ccnr_store.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__store_8c_source.html#l01337">process_incoming_content()</a>, and <a class="el" href="ccnr__store_8c_source.html#l01413">r_store_set_accession_from_offset()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Feb 4 11:56:59 2013 for Content-Centric Networking in C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
