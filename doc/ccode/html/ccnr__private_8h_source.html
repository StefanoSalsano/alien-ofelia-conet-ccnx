<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Content-Centric Networking in C: ccnr/ccnr_private.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_fcd5115610c592af72997d6bb8517d72.html">ccnr</a>
  </div>
</div>
<div class="contents">
<h1>ccnr_private.h</h1><a href="ccnr__private_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**</span>
<a name="l00002"></a>00002 <span class="comment"> * @file ccnr_private.h</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Private definitions for ccnr - the CCNx daemon.</span>
<a name="l00005"></a>00005 <span class="comment"> * Data structures are described here so that logging and status</span>
<a name="l00006"></a>00006 <span class="comment"> * routines can be compiled separately.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * Part of ccnr - the CCNx Repository Daemon.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * Copyright (C) 2008-2011 Palo Alto Research Center, Inc.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * This work is free software; you can redistribute it and/or modify it under</span>
<a name="l00013"></a>00013 <span class="comment"> * the terms of the GNU General Public License version 2 as published by the</span>
<a name="l00014"></a>00014 <span class="comment"> * Free Software Foundation.</span>
<a name="l00015"></a>00015 <span class="comment"> * This work is distributed in the hope that it will be useful, but WITHOUT ANY</span>
<a name="l00016"></a>00016 <span class="comment"> * WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<a name="l00017"></a>00017 <span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment"> * for more details. You should have received a copy of the GNU General Public</span>
<a name="l00019"></a>00019 <span class="comment"> * License along with this program; if not, write to the</span>
<a name="l00020"></a>00020 <span class="comment"> * Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,</span>
<a name="l00021"></a>00021 <span class="comment"> * Boston, MA 02110-1301, USA.</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023  
<a name="l00024"></a>00024 <span class="preprocessor">#ifndef CCNR_PRIVATE_DEFINED</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#define CCNR_PRIVATE_DEFINED</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;poll.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;sys/socket.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="ccn__private_8h.html" title="Additional operations that are irrevalent for most clients.">ccn/ccn_private.h</a>&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;<a class="code" href="coding_8h.html" title="Details of the ccn binary wire encoding.">ccn/coding.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="reg__mgmt_8h.html" title="Part of the CCNx C Library.">ccn/reg_mgmt.h</a>&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;<a class="code" href="schedule_8h.html" title="Event scheduling.">ccn/schedule.h</a>&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;<a class="code" href="seqwriter_8h.html" title="Part of the CCNx C Library.">ccn/seqwriter.h</a>&gt;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/*</span>
<a name="l00041"></a>00041 <span class="comment"> * These are defined in other ccn headers, but the incomplete types suffice</span>
<a name="l00042"></a>00042 <span class="comment"> * for the purposes of this header.</span>
<a name="l00043"></a>00043 <span class="comment"> */</span>
<a name="l00044"></a>00044 <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a>;
<a name="l00045"></a>00045 <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a>;
<a name="l00046"></a>00046 <span class="keyword">struct </span>hashtb;
<a name="l00047"></a>00047 <span class="keyword">struct </span>ccnr_meter;
<a name="l00048"></a>00048 <span class="keyword">struct </span><a class="code" href="structccn__btree.html" title="State associated with a btree as a whole.">ccn_btree</a>;
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="keyword">struct </span><a class="code" href="structsync__plumbing.html">sync_plumbing</a>;
<a name="l00051"></a>00051 <span class="keyword">struct </span><a class="code" href="struct_sync_base_struct.html">SyncBaseStruct</a>;
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="comment">/*</span>
<a name="l00054"></a>00054 <span class="comment"> * These are defined in this header.</span>
<a name="l00055"></a>00055 <span class="comment"> */</span>
<a name="l00056"></a>00056 <span class="keyword">struct </span><a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a>;
<a name="l00057"></a>00057 <span class="keyword">struct </span><a class="code" href="structfdholder.html" title="Each fdholder is referenced by its file descriptor.">fdholder</a>;
<a name="l00058"></a>00058 <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a>;
<a name="l00059"></a>00059 <span class="keyword">struct </span><a class="code" href="structnameprefix__entry.html" title="The nameprefix hash table is keyed by the Component elements of the Name prefix.">nameprefix_entry</a>;
<a name="l00060"></a>00060 <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a>;
<a name="l00061"></a>00061 <span class="keyword">struct </span>content_tree_node;
<a name="l00062"></a>00062 <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a>;
<a name="l00063"></a>00063 <span class="keyword">struct </span><a class="code" href="structenum__state.html">enum_state</a>;
<a name="l00064"></a><a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">00064</a> <span class="keyword">struct </span><a class="code" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a>;
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="comment">/* Repository-specific content identifiers */</span>
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="preprocessor">#if (defined(CCNLINT) &amp;&amp; (CCNLINT == 1))</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span><span class="comment">/* This is where we probably want to end up for declaring this type */</span>
<a name="l00070"></a>00070 <span class="keyword">typedef</span> uint_least64_t <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>;
<a name="l00071"></a>00071 <span class="preprocessor">#define CCNR_NULL_ACCESSION ((ccnr_accession)(0))</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MIN_ACCESSION ((ccnr_accession)(1))</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MAX_ACCESSION ((ccnr_accession)(~CCNR_NULL_ACCESSION))</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span><span class="preprocessor">#elif (defined(CCNLINT) &amp;&amp; (CCNLINT == 2))</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span><span class="preprocessor">#error &quot;Not expected to work - this is for detecting illegitimate comparisons&quot;</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span><span class="keyword">struct </span>intentionally_incomplete;
<a name="l00077"></a>00077 <span class="keyword">typedef</span> <span class="keyword">struct </span>intentionally_incomplete *<a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>;
<a name="l00078"></a>00078 <span class="preprocessor">#define CCNR_NULL_ACCESSION ((ccnr_accession)(0))</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MIN_ACCESSION ((ccnr_accession)(0x10000000))</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MAX_ACCESSION ((ccnr_accession)(0x7fffffff))</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span><span class="preprocessor">#elif (defined(CCNLINT) &amp;&amp; (CCNLINT == 3))</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span><span class="preprocessor">#error &quot;Not expected to work - this is for detecting illegitimate casts&quot;</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>ccnr_accession_rep {<span class="keywordtype">unsigned</span> a; <span class="keywordtype">unsigned</span> b;} <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>;
<a name="l00084"></a>00084 <span class="keyword">struct </span>ccnr_accession_rep ccnr_null_accession;
<a name="l00085"></a>00085 <span class="keyword">struct </span>ccnr_accession_rep ccnr_min_accession;
<a name="l00086"></a>00086 <span class="keyword">struct </span>ccnr_accession_rep ccnr_max_accession;
<a name="l00087"></a>00087 <span class="preprocessor">#define CCNR_NULL_ACCESSION ccnr_null_accession</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MIN_ACCESSION ccnr_min_accession</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MAX_ACCESSION ccnr_max_accession</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span><span class="keyword">typedef</span> uint_least64_t <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>;
<a name="l00092"></a><a class="code" href="ccnr__private_8h.html#a20ba128e0140426bd6d70cf699378ed7">00092</a> <span class="preprocessor">#define CCNR_NULL_ACCESSION ((ccnr_accession)(0))</span>
<a name="l00093"></a><a class="code" href="ccnr__private_8h.html#a0afe14e9a81639dd724114ea9fdc3e2c">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MIN_ACCESSION ((ccnr_accession)(1))</span>
<a name="l00094"></a><a class="code" href="ccnr__private_8h.html#a65ded057ee409a75769f55f0afd6484a">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define CCNR_MAX_ACCESSION ((ccnr_accession)(~CCNR_NULL_ACCESSION))</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>
<a name="l00097"></a><a class="code" href="ccnr__private_8h.html#a26f34f93c605bb1c7f26a6df0068374d">00097</a> <span class="preprocessor">#define CCNR_NOT_COMPARABLE (-2)</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span> 
<a name="l00099"></a>00099 <span class="comment">/* Encode/decode a ccnr_accession as an unsigned number. */</span>
<a name="l00100"></a>00100 uintmax_t <a class="code" href="ccnr__private_8h.html#ad5f4f8905e15f0b9dfd377571a7e3221">ccnr_accession_encode</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *, <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>);
<a name="l00101"></a>00101 <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> <a class="code" href="ccnr__private_8h.html#a59ed8ad157562f4be5efafa61ed17f7f">ccnr_accession_decode</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *, uintmax_t);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">/* Return 1 if x dominates (is newer than) y, 0 if x equals y, -1 if y dominates x,</span>
<a name="l00104"></a>00104 <span class="comment"> * and CCNR_NOT_COMPARABLE if the ordering is not determined</span>
<a name="l00105"></a>00105 <span class="comment"> */</span>
<a name="l00106"></a>00106 <span class="keywordtype">int</span> <a class="code" href="ccnr__private_8h.html#a0a517bb8ba09cd5dd64ddfaf3cf9972b">ccnr_accession_compare</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *ccnr, <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> x, <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> y);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="comment">/* Repository-specific high water marks */</span>
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 <span class="comment">/* XXX - ccnr_hwm should be a distinct type */</span>
<a name="l00111"></a><a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">00111</a> <span class="keyword">typedef</span> uintmax_t <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a>;
<a name="l00112"></a><a class="code" href="ccnr__private_8h.html#a23bba5e2f754c3af697f65f984632a3f">00112</a> <span class="preprocessor">#define CCNR_NULL_HWM ((ccnr_hwm)(0))</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span>
<a name="l00114"></a>00114 <span class="comment">/* Encode a high water mark as an unsigned number */</span>
<a name="l00115"></a>00115 uintmax_t <a class="code" href="ccnr__private_8h.html#a69ca66f8433ffe41d5e760d90d6d4191">ccnr_hwm_encode</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *, <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a>);
<a name="l00116"></a>00116 <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a> <a class="code" href="ccnr__private_8h.html#ae59187538cf11d7967ea76a68ebc95fd">ccnr_hwm_decode</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *, uintmax_t);
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="comment">/* Return 1 if a is in the hwm set, 0 if not, -1 if unknown. */</span>
<a name="l00119"></a>00119 <span class="keywordtype">int</span> <a class="code" href="ccnr__private_8h.html#a82c85266d632f3c4d526c9db439935d7">ccnr_acc_in_hwm</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *, <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> a, <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a> hwm);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <span class="comment">/* Produce a new high water mark that includes the given content */</span>
<a name="l00122"></a>00122 <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a> <a class="code" href="ccnr__private_8h.html#a76b417ccf1c3a28765f18b834af13414">ccnr_hwm_update</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *, <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a>, <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a>);
<a name="l00123"></a>00123 <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a> <a class="code" href="ccnr__private_8h.html#a793f1bac74657938cc2451eb262b0e2e">ccnr_hwm_merge</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *, <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a>, <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a>);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">/* Return 1 if x dominates y, 0 if x equals y, -1 if y dominates x,</span>
<a name="l00126"></a>00126 <span class="comment"> * and CCNR_NOT_COMPARABLE if the ordering is not determined</span>
<a name="l00127"></a>00127 <span class="comment"> */</span>
<a name="l00128"></a>00128 <span class="keywordtype">int</span> <a class="code" href="ccnr__private_8h.html#a0a74bc88e227f49bae9b7102ba70f407">ccnr_hwm_compare</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *ccnr, <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a> x, <a class="code" href="ccnr__private_8h.html#aeffbf1fb21237ba25cfaeffc5559b2d2">ccnr_hwm</a> y);
<a name="l00129"></a>00129 <span class="comment"></span>
<a name="l00130"></a>00130 <span class="comment">/**</span>
<a name="l00131"></a>00131 <span class="comment"> * A cookie is used as a more ephemeral way of holding a reference to a</span>
<a name="l00132"></a>00132 <span class="comment"> * content object, without the danger of an undetected dangling reference</span>
<a name="l00133"></a>00133 <span class="comment"> * when the in-memory content handle is destroyed.  This is for internal</span>
<a name="l00134"></a>00134 <span class="comment"> * data structures such as queues or enumeration states, but should not</span>
<a name="l00135"></a>00135 <span class="comment"> * be stored in any long-term way.  Use a ccnr_accession, content name, or</span>
<a name="l00136"></a>00136 <span class="comment"> * digest for that.</span>
<a name="l00137"></a>00137 <span class="comment"> *</span>
<a name="l00138"></a>00138 <span class="comment"> * Holding a cookie does not prevent the in-memory content handle from being</span>
<a name="l00139"></a>00139 <span class="comment"> * destroyed, either explicitly or to conserve resources.</span>
<a name="l00140"></a>00140 <span class="comment"> */</span>
<a name="l00141"></a><a class="code" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">00141</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <a class="code" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593" title="A cookie is used as a more ephemeral way of holding a reference to a content object...">ccnr_cookie</a>;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 <span class="comment"></span>
<a name="l00144"></a>00144 <span class="comment">/** Logger type (ccnr_logger) */</span>
<a name="l00145"></a><a class="code" href="ccnr__private_8h.html#a456024fa14a9808a43a7060e1eaff30c">00145</a> <span class="keyword">typedef</span> int (*<a class="code" href="ccnr__private_8h.html#a456024fa14a9808a43a7060e1eaff30c" title="Logger type (ccnr_logger).">ccnr_logger</a>)(<span class="keywordtype">void</span> *loggerdata, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, va_list ap);
<a name="l00146"></a>00146 <span class="comment"></span>
<a name="l00147"></a>00147 <span class="comment">/**</span>
<a name="l00148"></a>00148 <span class="comment"> * This is true if we should log at the given level.</span>
<a name="l00149"></a>00149 <span class="comment"> * </span>
<a name="l00150"></a>00150 <span class="comment"> */</span>
<a name="l00151"></a><a class="code" href="ccnr__private_8h.html#a2f3296ebf2e6ebb38af5517f39966451">00151</a> <span class="preprocessor">#define CCNSHOULDLOG(h, who, level) (((h)-&gt;debug &gt;= (level)) != 0)</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00153"></a>00153 <span class="comment">/* XXX - these are the historical bitfields. */</span>
<a name="l00154"></a><a class="code" href="ccnr__private_8h.html#a93b4a2c09bd3eb8b49a5bf0ac5e9247a">00154</a> <span class="preprocessor">#define LM_2    2</span>
<a name="l00155"></a><a class="code" href="ccnr__private_8h.html#a134d72587e7277063621360a6c248ffb">00155</a> <span class="preprocessor"></span><span class="preprocessor">#define LM_4    4</span>
<a name="l00156"></a><a class="code" href="ccnr__private_8h.html#a7323999db7afd7869b7b4ff665e751c8">00156</a> <span class="preprocessor"></span><span class="preprocessor">#define LM_8    8</span>
<a name="l00157"></a><a class="code" href="ccnr__private_8h.html#adebcf1f24e2569c3b3500ec9c168b20f">00157</a> <span class="preprocessor"></span><span class="preprocessor">#define LM_16    16</span>
<a name="l00158"></a><a class="code" href="ccnr__private_8h.html#aa73d038f0bda1304250d7f3527ecef76">00158</a> <span class="preprocessor"></span><span class="preprocessor">#define LM_32    32</span>
<a name="l00159"></a><a class="code" href="ccnr__private_8h.html#ae8972d131bb52279550c237173a51476">00159</a> <span class="preprocessor"></span><span class="preprocessor">#define LM_64    64</span>
<a name="l00160"></a><a class="code" href="ccnr__private_8h.html#a2d1e1fa6e4518cba402ea37d1b963d99">00160</a> <span class="preprocessor"></span><span class="preprocessor">#define LM_128    128</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00162"></a>00162 <span class="comment">/**</span>
<a name="l00163"></a>00163 <span class="comment"> * Limit on how many active sync enumerations we are willing to have going.</span>
<a name="l00164"></a>00164 <span class="comment"> */</span>
<a name="l00165"></a><a class="code" href="ccnr__private_8h.html#abbae0c91b9bc641618848afa3d6627bc">00165</a> <span class="preprocessor">#define CCNR_MAX_ENUM 64</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00167"></a>00167 <span class="comment">/**</span>
<a name="l00168"></a>00168 <span class="comment"> * We pass this handle almost everywhere within ccnr</span>
<a name="l00169"></a>00169 <span class="comment"> */</span>
<a name="l00170"></a><a class="code" href="structccnr__handle.html">00170</a> <span class="keyword">struct </span><a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> {
<a name="l00171"></a><a class="code" href="structccnr__handle.html#a22ba051c7c9e91f4bfefe86bd7647785">00171</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structccnr__handle.html#a22ba051c7c9e91f4bfefe86bd7647785" title="sha256 digest of our public key">ccnr_id</a>[32];      <span class="comment">/**&lt; sha256 digest of our public key */</span>
<a name="l00172"></a><a class="code" href="structccnr__handle.html#ab7fec1a42e8328d78c348aaf4a7c06e6">00172</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnr__handle.html#ab7fec1a42e8328d78c348aaf4a7c06e6" title="public key digest in keyid format C1.M.K.">ccnr_keyid</a>; <span class="comment">/**&lt; public key digest in keyid format %C1.M.K.%00... */</span>
<a name="l00173"></a><a class="code" href="structccnr__handle.html#a80577382037731a01a79d7ce797f34a0">00173</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnr__handle.html#a80577382037731a01a79d7ce797f34a0" title="keyed by name prefix components">nameprefix_tab</a>;  <span class="comment">/**&lt; keyed by name prefix components */</span>
<a name="l00174"></a><a class="code" href="structccnr__handle.html#af9a6509e15e2e2943bf5f69f9e0d9d1e">00174</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnr__handle.html#af9a6509e15e2e2943bf5f69f9e0d9d1e" title="keyed by nonce">propagating_tab</a>; <span class="comment">/**&lt; keyed by nonce */</span>
<a name="l00175"></a><a class="code" href="structccnr__handle.html#a11d69a8caf053c392072b6d07ecb0b2b">00175</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnr__handle.html#a11d69a8caf053c392072b6d07ecb0b2b" title="keyed by enumeration interest">enum_state_tab</a>;  <span class="comment">/**&lt; keyed by enumeration interest */</span>
<a name="l00176"></a><a class="code" href="structccnr__handle.html#a61681b7553f7ea44042dcd3861e0ea76">00176</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnr__handle.html#a61681b7553f7ea44042dcd3861e0ea76" title="skiplist for content-ordered ops">skiplinks</a>; <span class="comment">/**&lt; skiplist for content-ordered ops */</span>
<a name="l00177"></a><a class="code" href="structccnr__handle.html#aab6cbb3032b5f846728810729675d650">00177</a>     <span class="keyword">struct </span><a class="code" href="structccn__btree.html" title="State associated with a btree as a whole.">ccn_btree</a> *<a class="code" href="structccnr__handle.html#aab6cbb3032b5f846728810729675d650" title="btree index of content">btree</a>;        <span class="comment">/**&lt; btree index of content */</span>
<a name="l00178"></a><a class="code" href="structccnr__handle.html#ae91d593efaf1ac49d0a9bcf693cde68d">00178</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#ae91d593efaf1ac49d0a9bcf693cde68d" title="for forward_to updates">forward_to_gen</a>;        <span class="comment">/**&lt; for forward_to updates */</span>
<a name="l00179"></a><a class="code" href="structccnr__handle.html#a0e49b782946cf5fbee2946bbfd68490a">00179</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#a0e49b782946cf5fbee2946bbfd68490a" title="filedesc generation number">face_gen</a>;              <span class="comment">/**&lt; filedesc generation number */</span>
<a name="l00180"></a><a class="code" href="structccnr__handle.html#a9e3d1d4e07992feb076be10d5924a41a">00180</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#a9e3d1d4e07992feb076be10d5924a41a" title="for filedesc allocation">face_rover</a>;            <span class="comment">/**&lt; for filedesc allocation */</span>
<a name="l00181"></a><a class="code" href="structccnr__handle.html#a60ce3909d3d49be5a067e49fd8a15ea9">00181</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#a60ce3909d3d49be5a067e49fd8a15ea9" title="current number of fdholder slots">face_limit</a>;            <span class="comment">/**&lt; current number of fdholder slots */</span>
<a name="l00182"></a><a class="code" href="structccnr__handle.html#a5270519ee2d84ae571ce01688c20f8d6">00182</a>     <span class="keyword">struct </span><a class="code" href="structfdholder.html" title="Each fdholder is referenced by its file descriptor.">fdholder</a> **<a class="code" href="structccnr__handle.html#a5270519ee2d84ae571ce01688c20f8d6" title="array with face_limit elements">fdholder_by_fd</a>;  <span class="comment">/**&lt; array with face_limit elements */</span>
<a name="l00183"></a><a class="code" href="structccnr__handle.html#a321b0bbf03bc23d8be34f87ea56b7585">00183</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#a321b0bbf03bc23d8be34f87ea56b7585" title="data currently being indexed">active_in_fd</a>;               <span class="comment">/**&lt; data currently being indexed */</span>
<a name="l00184"></a><a class="code" href="structccnr__handle.html#a86ef1c067b8e023ae75dd0973e15f950">00184</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#a86ef1c067b8e023ae75dd0973e15f950" title="repo file we will write to">active_out_fd</a>;              <span class="comment">/**&lt; repo file we will write to */</span>
<a name="l00185"></a><a class="code" href="structccnr__handle.html#a969633721ac8e64a690cdbb1634c7af3">00185</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#a969633721ac8e64a690cdbb1634c7af3" title="read-only access to repoFile1">repofile1_fd</a>;               <span class="comment">/**&lt; read-only access to repoFile1 */</span>
<a name="l00186"></a><a class="code" href="structccnr__handle.html#a9ad4f80c92d3c125bb2aaf5c4b9d112c">00186</a>     off_t <a class="code" href="structccnr__handle.html#a9ad4f80c92d3c125bb2aaf5c4b9d112c" title="repoFile1 size at startup">startupbytes</a>;             <span class="comment">/**&lt; repoFile1 size at startup */</span>
<a name="l00187"></a><a class="code" href="structccnr__handle.html#ac8d0031bfa709973703ab9eb0c5af73c">00187</a>     off_t <a class="code" href="structccnr__handle.html#ac8d0031bfa709973703ab9eb0c5af73c" title="repoFile1 size at shutdown">stable</a>;                   <span class="comment">/**&lt; repoFile1 size at shutdown */</span>
<a name="l00188"></a><a class="code" href="structccnr__handle.html#a2d7e404ad17810b251b704e4e08db196">00188</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#a2d7e404ad17810b251b704e4e08db196">reaper</a>;
<a name="l00189"></a><a class="code" href="structccnr__handle.html#a32f2c0b5ef9fec64144ea8c546edff14">00189</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#a32f2c0b5ef9fec64144ea8c546edff14">age</a>;
<a name="l00190"></a><a class="code" href="structccnr__handle.html#aff78c978594cb9ccfb8529102d027117">00190</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#aff78c978594cb9ccfb8529102d027117">clean</a>;
<a name="l00191"></a><a class="code" href="structccnr__handle.html#a3fccca321758934be416493880500d76">00191</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#a3fccca321758934be416493880500d76">age_forwarding</a>;
<a name="l00192"></a><a class="code" href="structccnr__handle.html#a0f81b978f9849aae87d057e93074b5ab">00192</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#a0f81b978f9849aae87d057e93074b5ab" title="cleans out old enumeration state">reap_enumerations</a>; <span class="comment">/**&lt; cleans out old enumeration state */</span>
<a name="l00193"></a><a class="code" href="structccnr__handle.html#a6df86b0dcfecb1c9436b4bd1682febcb">00193</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#a6df86b0dcfecb1c9436b4bd1682febcb" title="writes out btree nodes">index_cleaner</a>; <span class="comment">/**&lt; writes out btree nodes */</span>
<a name="l00194"></a><a class="code" href="structccnr__handle.html#a67a8dabb0af187b84e668d8a1e584796">00194</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnr__handle.html#a67a8dabb0af187b84e668d8a1e584796" title="for index_cleaner use">toclean</a>;   <span class="comment">/**&lt; for index_cleaner use */</span>
<a name="l00195"></a><a class="code" href="structccnr__handle.html#ac27f74550dfe925defade444bbe13a29">00195</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structccnr__handle.html#ac27f74550dfe925defade444bbe13a29" title="port number for status display">portstr</a>;            <span class="comment">/**&lt; port number for status display */</span>
<a name="l00196"></a><a class="code" href="structccnr__handle.html#a60b09849de07648e3d27e42da374070c">00196</a>     nfds_t <a class="code" href="structccnr__handle.html#a60b09849de07648e3d27e42da374070c" title="number of entries in fds array">nfds</a>;                    <span class="comment">/**&lt; number of entries in fds array */</span>
<a name="l00197"></a><a class="code" href="structccnr__handle.html#af9c114be53423f5f1c823419fac1b022">00197</a>     <span class="keyword">struct </span>pollfd *<a class="code" href="structccnr__handle.html#af9c114be53423f5f1c823419fac1b022" title="used for poll system call">fds</a>;             <span class="comment">/**&lt; used for poll system call */</span>
<a name="l00198"></a><a class="code" href="structccnr__handle.html#a210b4e52f216a280eac7fde3a159346f">00198</a>     <span class="keyword">struct </span><a class="code" href="structccn__gettime.html">ccn_gettime</a> <a class="code" href="structccnr__handle.html#a210b4e52f216a280eac7fde3a159346f" title="our time generator">ticktock</a>;    <span class="comment">/**&lt; our time generator */</span>
<a name="l00199"></a><a class="code" href="structccnr__handle.html#a018117b25163afe16d015b6c71528a01">00199</a>     <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a018117b25163afe16d015b6c71528a01" title="cached gettime seconds">sec</a>;                       <span class="comment">/**&lt; cached gettime seconds */</span>
<a name="l00200"></a><a class="code" href="structccnr__handle.html#a08e40c533ecdfc9b15fd1b88e7c09c1a">00200</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#a08e40c533ecdfc9b15fd1b88e7c09c1a" title="cached gettime microseconds">usec</a>;                  <span class="comment">/**&lt; cached gettime microseconds */</span>
<a name="l00201"></a><a class="code" href="structccnr__handle.html#a742f61c2e25dcca607c55fe3d7291559">00201</a>     <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a742f61c2e25dcca607c55fe3d7291559" title="ccnr start time, in seconds">starttime</a>;                 <span class="comment">/**&lt; ccnr start time, in seconds */</span>
<a name="l00202"></a><a class="code" href="structccnr__handle.html#a2413aad5ba473134d04f1a698b7ee281">00202</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#a2413aad5ba473134d04f1a698b7ee281" title="ccnr start time fractional part">starttime_usec</a>;        <span class="comment">/**&lt; ccnr start time fractional part */</span>
<a name="l00203"></a><a class="code" href="structccnr__handle.html#ae75f01e799058fbe52d154ebaa08ec52">00203</a>     <span class="keyword">struct </span>ccn_schedule *<a class="code" href="structccnr__handle.html#ae75f01e799058fbe52d154ebaa08ec52" title="our schedule">sched</a>;     <span class="comment">/**&lt; our schedule */</span>
<a name="l00204"></a><a class="code" href="structccnr__handle.html#a7a7d7ca0f093179964932b3ef9b041ad">00204</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnr__handle.html#a7a7d7ca0f093179964932b3ef9b041ad" title="one-slot scratch cache">scratch_charbuf</a>; <span class="comment">/**&lt; one-slot scratch cache */</span>
<a name="l00205"></a><a class="code" href="structccnr__handle.html#a5db0af042f1f70fd1c8153c599b70853">00205</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnr__handle.html#a5db0af042f1f70fd1c8153c599b70853" title="one-slot scratch cache">scratch_indexbuf</a>; <span class="comment">/**&lt; one-slot scratch cache */</span><span class="comment"></span>
<a name="l00206"></a>00206 <span class="comment">    /** Next two fields are used for direct cookie-to-content table */</span>
<a name="l00207"></a><a class="code" href="structccnr__handle.html#ad2ef2df626d1fde74fe81089ad756b34">00207</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#ad2ef2df626d1fde74fe81089ad756b34" title="Next two fields are used for direct cookie-to-content table.">cookie_limit</a>;          <span class="comment">/**&lt; content_by_cookie size(power of 2)*/</span>
<a name="l00208"></a><a class="code" href="structccnr__handle.html#a05c0319247b6c0dda83e3e891f122241">00208</a>     <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a> **<a class="code" href="structccnr__handle.html#a05c0319247b6c0dda83e3e891f122241" title="cookie-to-content table">content_by_cookie</a>; <span class="comment">/**&lt; cookie-to-content table */</span>
<a name="l00209"></a><a class="code" href="structccnr__handle.html#a4e06b09e5534b56b5ddd15e1fceec491">00209</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnr__handle.html#a4e06b09e5534b56b5ddd15e1fceec491" title="keyed by accession">content_by_accession_tab</a>; <span class="comment">/**&lt; keyed by accession */</span>
<a name="l00210"></a><a class="code" href="structccnr__handle.html#a92fe372c2494f28621e20e9661691f5b">00210</a>     <a class="code" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593" title="A cookie is used as a more ephemeral way of holding a reference to a content object...">ccnr_cookie</a> <a class="code" href="structccnr__handle.html#a92fe372c2494f28621e20e9661691f5b" title="newest used cookie number">cookie</a>;      <span class="comment">/**&lt; newest used cookie number */</span>
<a name="l00211"></a><a class="code" href="structccnr__handle.html#aaf2c8e75fa0d793aaff9bbdb7639e4ae">00211</a>     <a class="code" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593" title="A cookie is used as a more ephemeral way of holding a reference to a content object...">ccnr_cookie</a> <a class="code" href="structccnr__handle.html#aaf2c8e75fa0d793aaff9bbdb7639e4ae" title="smallest cookie of stale content">min_stale</a>;      <span class="comment">/**&lt; smallest cookie of stale content */</span>
<a name="l00212"></a><a class="code" href="structccnr__handle.html#a7c5aea14ed0b9401fa598cf81bd470b1">00212</a>     <a class="code" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593" title="A cookie is used as a more ephemeral way of holding a reference to a content object...">ccnr_cookie</a> <a class="code" href="structccnr__handle.html#a7c5aea14ed0b9401fa598cf81bd470b1" title="largest cookie of stale content">max_stale</a>;      <span class="comment">/**&lt; largest cookie of stale content */</span>
<a name="l00213"></a><a class="code" href="structccnr__handle.html#a0e8ff7c092e30c5ae38d2a14551a2933">00213</a>     <a class="code" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593" title="A cookie is used as a more ephemeral way of holding a reference to a content object...">ccnr_cookie</a> <a class="code" href="structccnr__handle.html#a0e8ff7c092e30c5ae38d2a14551a2933" title="where we left off trimming">trim_rover</a>;     <span class="comment">/**&lt; where we left off trimming */</span>
<a name="l00214"></a><a class="code" href="structccnr__handle.html#a8bdb894542b9b41e90e7a800b72e4d7a">00214</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a8bdb894542b9b41e90e7a800b72e4d7a" title="Number of stale content objects.">n_stale</a>;          <span class="comment">/**&lt; Number of stale content objects */</span>
<a name="l00215"></a><a class="code" href="structccnr__handle.html#a15e713a535b017abfdfc6aec08fd80de">00215</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnr__handle.html#a15e713a535b017abfdfc6aec08fd80de" title="unsolicited content">unsol</a>;     <span class="comment">/**&lt; unsolicited content */</span>
<a name="l00216"></a><a class="code" href="structccnr__handle.html#a48629f4c6ea99c823c1163301bd40e94">00216</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a48629f4c6ea99c823c1163301bd40e94" title="count of accessioned content objects in memory">cob_count</a>;  <span class="comment">/**&lt; count of accessioned content objects in memory */</span>
<a name="l00217"></a><a class="code" href="structccnr__handle.html#a0da96a478be6b1aeb5a6c1e8fde1463b">00217</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a0da96a478be6b1aeb5a6c1e8fde1463b" title="trim when we get beyond this">cob_limit</a>;  <span class="comment">/**&lt; trim when we get beyond this */</span>
<a name="l00218"></a><a class="code" href="structccnr__handle.html#a83dab6446f1b71e18558554f96520429">00218</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a83dab6446f1b71e18558554f96520429">oldformatcontent</a>;
<a name="l00219"></a><a class="code" href="structccnr__handle.html#ab75291d4f0ec8a5abe708b516bf6f7b8">00219</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#ab75291d4f0ec8a5abe708b516bf6f7b8">oldformatcontentgrumble</a>;
<a name="l00220"></a><a class="code" href="structccnr__handle.html#ac4538045daf333ec38010194ede4d29f">00220</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#ac4538045daf333ec38010194ede4d29f">oldformatinterests</a>;
<a name="l00221"></a><a class="code" href="structccnr__handle.html#a6599f33e1fda940cd6a563355746a249">00221</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a6599f33e1fda940cd6a563355746a249">oldformatinterestgrumble</a>;
<a name="l00222"></a><a class="code" href="structccnr__handle.html#a0f4a5e2290d0e3e67448623851b98e81">00222</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a0f4a5e2290d0e3e67448623851b98e81">content_dups_recvd</a>;
<a name="l00223"></a><a class="code" href="structccnr__handle.html#ad9af7d6952903aa1315d086868d1963f">00223</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#ad9af7d6952903aa1315d086868d1963f">content_items_sent</a>;
<a name="l00224"></a><a class="code" href="structccnr__handle.html#a048857a6402bf69bee06fbe428d23ba9">00224</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a048857a6402bf69bee06fbe428d23ba9">interests_accepted</a>;
<a name="l00225"></a><a class="code" href="structccnr__handle.html#a4d805e059bc31344c5ac332db94602f2">00225</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a4d805e059bc31344c5ac332db94602f2">interests_dropped</a>;
<a name="l00226"></a><a class="code" href="structccnr__handle.html#aea901f67182f9d38b49a4fb58823de95">00226</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#aea901f67182f9d38b49a4fb58823de95">interests_sent</a>;
<a name="l00227"></a><a class="code" href="structccnr__handle.html#a0695ea34c9e4ab94ea6e27dc04546646">00227</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a0695ea34c9e4ab94ea6e27dc04546646">interests_stuffed</a>;
<a name="l00228"></a><a class="code" href="structccnr__handle.html#adc4738cc4d596f6955b2ef9cb1f3338e">00228</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#adc4738cc4d596f6955b2ef9cb1f3338e">content_from_accession_hits</a>;
<a name="l00229"></a><a class="code" href="structccnr__handle.html#acf3a4d10ef9d4225875c8e39214954f0">00229</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#acf3a4d10ef9d4225875c8e39214954f0">content_from_accession_misses</a>;
<a name="l00230"></a><a class="code" href="structccnr__handle.html#a3cd4605f700fe62be2358e2af16d39f0">00230</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a3cd4605f700fe62be2358e2af16d39f0">count_lmc_found</a>;
<a name="l00231"></a><a class="code" href="structccnr__handle.html#aa3ca01208710b26c81ad3ecbe27533c3">00231</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#aa3ca01208710b26c81ad3ecbe27533c3">count_lmc_found_iters</a>;
<a name="l00232"></a><a class="code" href="structccnr__handle.html#ad3c559cce66898e403b04ef8e1a252bb">00232</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#ad3c559cce66898e403b04ef8e1a252bb">count_lmc_notfound</a>;
<a name="l00233"></a><a class="code" href="structccnr__handle.html#a8efbb7386a308df62e9b3b38fc22215a">00233</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a8efbb7386a308df62e9b3b38fc22215a">count_lmc_notfound_iters</a>;
<a name="l00234"></a><a class="code" href="structccnr__handle.html#a4475cb2c9b3e5b4c4fa6c0b5869bbb86">00234</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a4475cb2c9b3e5b4c4fa6c0b5869bbb86">count_rmc_found</a>;
<a name="l00235"></a><a class="code" href="structccnr__handle.html#a4d3fb24070db557c4099851901cb5c76">00235</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a4d3fb24070db557c4099851901cb5c76">count_rmc_found_iters</a>;
<a name="l00236"></a><a class="code" href="structccnr__handle.html#a46c9128a72f3d6facbfd3d7fd769243c">00236</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a46c9128a72f3d6facbfd3d7fd769243c">count_rmc_notfound</a>;
<a name="l00237"></a><a class="code" href="structccnr__handle.html#a06cffe170ef017cd57d0a54c48360337">00237</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a06cffe170ef017cd57d0a54c48360337">count_rmc_notfound_iters</a>;
<a name="l00238"></a>00238     <span class="comment">/* Control switches and knobs */</span>
<a name="l00239"></a><a class="code" href="structccnr__handle.html#a860d3791fab03c43f11ab3205a06fc86">00239</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#a860d3791fab03c43f11ab3205a06fc86" title="Scope on start-write must be &amp;lt;= this value.">start_write_scope_limit</a>;    <span class="comment">/**&lt; Scope on start-write must be &lt;= this value.  3 indicates unlimited */</span>
<a name="l00240"></a><a class="code" href="structccnr__handle.html#a8d26cfa9cdf7aa48321954894794f355">00240</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structccnr__handle.html#a8d26cfa9cdf7aa48321954894794f355" title="for PRNG">seed</a>[3];         <span class="comment">/**&lt; for PRNG */</span>
<a name="l00241"></a><a class="code" href="structccnr__handle.html#a6c2af24a1cd0382446796ca9038adf9b">00241</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#a6c2af24a1cd0382446796ca9038adf9b" title="true while should be running">running</a>;                    <span class="comment">/**&lt; true while should be running */</span>
<a name="l00242"></a><a class="code" href="structccnr__handle.html#a5cd9b2d802c6362a0f0028209871a849">00242</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#a5cd9b2d802c6362a0f0028209871a849" title="For controlling debug output.">debug</a>;                      <span class="comment">/**&lt; For controlling debug output */</span>
<a name="l00243"></a><a class="code" href="structccnr__handle.html#a275714f2b27a3cf898f43b1a6d3347d4">00243</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#a275714f2b27a3cf898f43b1a6d3347d4" title="For controlling debug output from sync.">syncdebug</a>;                  <span class="comment">/**&lt; For controlling debug output from sync */</span>
<a name="l00244"></a><a class="code" href="structccnr__handle.html#a86d8f55b21fae5b52ff8817bc9a82763">00244</a>     <a class="code" href="ccnr__private_8h.html#a456024fa14a9808a43a7060e1eaff30c" title="Logger type (ccnr_logger).">ccnr_logger</a> <a class="code" href="structccnr__handle.html#a86d8f55b21fae5b52ff8817bc9a82763" title="For debug output.">logger</a>;             <span class="comment">/**&lt; For debug output */</span>
<a name="l00245"></a><a class="code" href="structccnr__handle.html#a249e08493d0bedba0ac98e0f2b8fedd1">00245</a>     <span class="keywordtype">void</span> *<a class="code" href="structccnr__handle.html#a249e08493d0bedba0ac98e0f2b8fedd1" title="Passed to logger.">loggerdata</a>;               <span class="comment">/**&lt; Passed to logger */</span>
<a name="l00246"></a><a class="code" href="structccnr__handle.html#af90cc752a65fc606de3bb2e4b10b93a1">00246</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#af90cc752a65fc606de3bb2e4b10b93a1" title="see ccnr_msg()">logbreak</a>;                   <span class="comment">/**&lt; see ccnr_msg() */</span>
<a name="l00247"></a><a class="code" href="structccnr__handle.html#a620809842b7cf4f96a593d921fe409f4">00247</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnr__handle.html#a620809842b7cf4f96a593d921fe409f4" title="see ccnr_msg()">logtime</a>;          <span class="comment">/**&lt; see ccnr_msg() */</span>
<a name="l00248"></a><a class="code" href="structccnr__handle.html#a75bc3443c75cff8186ec5dcd0120233a">00248</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#a75bc3443c75cff8186ec5dcd0120233a" title="see ccnr_msg()">logpid</a>;                     <span class="comment">/**&lt; see ccnr_msg() */</span>
<a name="l00249"></a><a class="code" href="structccnr__handle.html#aa6c854eb7dfb4fdf7f743a05f6d6ef02">00249</a>     <span class="keywordtype">int</span> <a class="code" href="structccnr__handle.html#aa6c854eb7dfb4fdf7f743a05f6d6ef02" title="Internal control for auto-reg.">flood</a>;                      <span class="comment">/**&lt; Internal control for auto-reg */</span>
<a name="l00250"></a><a class="code" href="structccnr__handle.html#a3507074262b8f95993b9549b63b3a6d3">00250</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnr__handle.html#a3507074262b8f95993b9549b63b3a6d3" title="for self_reg internal client">interest_faceid</a>;       <span class="comment">/**&lt; for self_reg internal client */</span>
<a name="l00251"></a><a class="code" href="structccnr__handle.html#a3072e973f6ed8ac85e7b87b5260334ef">00251</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structccnr__handle.html#a3072e973f6ed8ac85e7b87b5260334ef" title="our name, for locating helpers">progname</a>;           <span class="comment">/**&lt; our name, for locating helpers */</span>
<a name="l00252"></a><a class="code" href="structccnr__handle.html#aa358b4c6941900d7e02a620bf1e601b5">00252</a>     <span class="keyword">struct </span>ccn *<a class="code" href="structccnr__handle.html#aa358b4c6941900d7e02a620bf1e601b5" title="this talks directly with ccnd">direct_client</a>;      <span class="comment">/**&lt; this talks directly with ccnd */</span>
<a name="l00253"></a><a class="code" href="structccnr__handle.html#a727b64d3a16c6655ef03dcf81cc54c9a">00253</a>     <span class="keyword">struct </span>ccn *<a class="code" href="structccnr__handle.html#a727b64d3a16c6655ef03dcf81cc54c9a" title="internal client">internal_client</a>;    <span class="comment">/**&lt; internal client */</span>
<a name="l00254"></a><a class="code" href="structccnr__handle.html#a60b1ff48ff8a50320097c88d9696087d">00254</a>     <span class="keyword">struct </span><a class="code" href="structfdholder.html" title="Each fdholder is referenced by its file descriptor.">fdholder</a> *<a class="code" href="structccnr__handle.html#a60b1ff48ff8a50320097c88d9696087d" title="special fdholder for internal client">face0</a>;         <span class="comment">/**&lt; special fdholder for internal client */</span>
<a name="l00255"></a><a class="code" href="structccnr__handle.html#ab513997bc506e33082795d340cf17399">00255</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnr__handle.html#ab513997bc506e33082795d340cf17399" title="for local service discovery">service_ccnb</a>; <span class="comment">/**&lt; for local service discovery */</span>
<a name="l00256"></a><a class="code" href="structccnr__handle.html#af095393c79707b19e154837f74cba963">00256</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnr__handle.html#af095393c79707b19e154837f74cba963" title="for neighbor service discovery">neighbor_ccnb</a>; <span class="comment">/**&lt; for neighbor service discovery */</span>
<a name="l00257"></a><a class="code" href="structccnr__handle.html#ae020455f28f9cc162243c81de19bc0ba">00257</a>     <span class="keyword">struct </span><a class="code" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a> *<a class="code" href="structccnr__handle.html#ae020455f28f9cc162243c81de19bc0ba" title="offsets for parsed fields of policy">parsed_policy</a>;  <span class="comment">/**&lt; offsets for parsed fields of policy */</span>
<a name="l00258"></a><a class="code" href="structccnr__handle.html#ac96f020368a05e16691bf14acac27741">00258</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnr__handle.html#ac96f020368a05e16691bf14acac27741">policy_name</a>;
<a name="l00259"></a><a class="code" href="structccnr__handle.html#a4854a2e3b20d7c7abb820ca815bf9d82">00259</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnr__handle.html#a4854a2e3b20d7c7abb820ca815bf9d82">policy_link_cob</a>;
<a name="l00260"></a><a class="code" href="structccnr__handle.html#ad32807b803ff3a2e73fa9982df25ae01">00260</a>     <span class="keyword">struct </span>ccn_seqwriter *<a class="code" href="structccnr__handle.html#ad32807b803ff3a2e73fa9982df25ae01" title="for notices of status changes">notice</a>;   <span class="comment">/**&lt; for notices of status changes */</span>
<a name="l00261"></a><a class="code" href="structccnr__handle.html#a5d0c0403011b9e95ae317253ff8a02fa">00261</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnr__handle.html#a5d0c0403011b9e95ae317253ff8a02fa" title="faceids w/ recent status changes">chface</a>;    <span class="comment">/**&lt; faceids w/ recent status changes */</span>
<a name="l00262"></a><a class="code" href="structccnr__handle.html#aeda302033d4e87b402492c985e477ae4">00262</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#aeda302033d4e87b402492c985e477ae4">internal_client_refresh</a>;
<a name="l00263"></a><a class="code" href="structccnr__handle.html#afb6ea0e44228d582e634da19bfb3b814">00263</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#afb6ea0e44228d582e634da19bfb3b814">direct_client_refresh</a>;
<a name="l00264"></a><a class="code" href="structccnr__handle.html#a033f07e78c8e60e1727029b1a9f3f413">00264</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnr__handle.html#a033f07e78c8e60e1727029b1a9f3f413">notice_push</a>;
<a name="l00265"></a>00265     <span class="comment">/* items related to sync/repo integration */</span>
<a name="l00266"></a><a class="code" href="structccnr__handle.html#a84e68259056a33b421d84f6dd2f8cb17">00266</a>     <span class="keyword">struct </span><a class="code" href="structsync__plumbing.html">sync_plumbing</a> *<a class="code" href="structsync__plumbing.html">sync_plumbing</a>;  <span class="comment">/**&lt; encapsulates methods and data */</span>
<a name="l00267"></a><a class="code" href="structccnr__handle.html#ac317aa007c77ee73ccf9db2186eca1f8">00267</a>     <span class="keyword">struct </span><a class="code" href="struct_sync_base_struct.html">SyncBaseStruct</a> *<a class="code" href="structccnr__handle.html#ac317aa007c77ee73ccf9db2186eca1f8">sync_base</a>;
<a name="l00268"></a><a class="code" href="structccnr__handle.html#aca1ef59169fccfa337d1ee96f25797a8">00268</a>     <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> <a class="code" href="structccnr__handle.html#aca1ef59169fccfa337d1ee96f25797a8" title="starting item for notifying sync">notify_after</a>;  <span class="comment">/**&lt; starting item for notifying sync */</span>
<a name="l00269"></a><a class="code" href="structccnr__handle.html#ad2901c38a00b133fb861c9b331984ac3">00269</a>     <a class="code" href="ccnr__private_8h.html#abe8fad59902ad91b0b7f5bfdbc4a9553">ccnr_accession</a> <a class="code" href="structccnr__handle.html#ad2901c38a00b133fb861c9b331984ac3" title="active sync enumerations">active_enum</a>[<a class="code" href="ccnr__private_8h.html#abbae0c91b9bc641618848afa3d6627bc" title="Limit on how many active sync enumerations we are willing to have going.">CCNR_MAX_ENUM</a>]; <span class="comment">/**&lt; active sync enumerations */</span>
<a name="l00270"></a>00270     
<a name="l00271"></a><a class="code" href="structccnr__handle.html#ae3ca616edc1adffe6941a0d8113e434f">00271</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structccnr__handle.html#ae3ca616edc1adffe6941a0d8113e434f" title="the repository directory">directory</a>;           <span class="comment">/**&lt; the repository directory */</span>
<a name="l00272"></a>00272 };
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <span class="keyword">struct </span><a class="code" href="structcontent__queue.html">content_queue</a> {
<a name="l00275"></a>00275     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#af195a73f85a7250494143bffb946c35b" title="nsec per KByte, limits burst rate">burst_nsec</a>;             <span class="comment">/**&lt; nsec per KByte, limits burst rate */</span>
<a name="l00276"></a>00276     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#a86e00a92d092b2441836fa5e33120fec" title="minimum delay for this queue">min_usec</a>;               <span class="comment">/**&lt; minimum delay for this queue */</span>
<a name="l00277"></a>00277     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#accfdc3592bdd9d3cb7b316e75ff30b5b" title="randomization range">rand_usec</a>;              <span class="comment">/**&lt; randomization range */</span>
<a name="l00278"></a>00278     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#afd8c9d994af7effd7fd9aa495416d2cd" title="# that have waited enough">ready</a>;                  <span class="comment">/**&lt; # that have waited enough */</span>
<a name="l00279"></a>00279     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#aca5da549f5249053d6ba1d9161d02537" title="# sent since last randomized delay">nrun</a>;                   <span class="comment">/**&lt; # sent since last randomized delay */</span>
<a name="l00280"></a>00280     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structcontent__queue.html#a97dfa96254d8fd0ca72a7172a638b3f9" title="accession numbers of pending content">send_queue</a>; <span class="comment">/**&lt; cookie numbers of pending content */</span>
<a name="l00281"></a>00281     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structcontent__queue.html#a31319d21b1451c7766440532621904d9">sender</a>;
<a name="l00282"></a>00282 };
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="ccnr__private_8h.html#a4e3d681b05662964910a195835a7fb0b">00284</a> <span class="keyword">enum</span> <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0b">cq_delay_class</a> {
<a name="l00285"></a><a class="code" href="ccnr__private_8h.html#a4e3d681b05662964910a195835a7fb0ba00e846d29278aa37f8cd2f1771b02dbf">00285</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba00e846d29278aa37f8cd2f1771b02dbf">CCN_CQ_ASAP</a>,
<a name="l00286"></a><a class="code" href="ccnr__private_8h.html#a4e3d681b05662964910a195835a7fb0ba1ba7f9b85dd0cb05188982b290ed287a">00286</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba1ba7f9b85dd0cb05188982b290ed287a">CCN_CQ_NORMAL</a>,
<a name="l00287"></a><a class="code" href="ccnr__private_8h.html#a4e3d681b05662964910a195835a7fb0ba74d5821350bdb2f3fddef7298c30b3cf">00287</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba74d5821350bdb2f3fddef7298c30b3cf">CCN_CQ_SLOW</a>,
<a name="l00288"></a><a class="code" href="ccnr__private_8h.html#a4e3d681b05662964910a195835a7fb0ba7ffbfb12e45549cb96b8293639c45fcd">00288</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba7ffbfb12e45549cb96b8293639c45fcd">CCN_CQ_N</a>
<a name="l00289"></a>00289 };
<a name="l00290"></a>00290 <span class="comment"></span>
<a name="l00291"></a>00291 <span class="comment">/**</span>
<a name="l00292"></a>00292 <span class="comment"> * fdholder meter index</span>
<a name="l00293"></a>00293 <span class="comment"> */</span>
<a name="l00294"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495">00294</a> <span class="keyword">enum</span> <a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495" title="fdholder meter index">ccnr_face_meter_index</a> {
<a name="l00295"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495a0deb02bc3d87c103d45bb4c854a02fb0">00295</a>     <a class="code" href="ccnd__private_8h.html#a64d4281f797a99f7317a023249ff07e6a0deb02bc3d87c103d45bb4c854a02fb0">FM_BYTI</a>,
<a name="l00296"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495a68df0f6c6a44af2cf5c43a81ccb8ee49">00296</a>     <a class="code" href="ccnd__private_8h.html#a64d4281f797a99f7317a023249ff07e6a68df0f6c6a44af2cf5c43a81ccb8ee49">FM_BYTO</a>,
<a name="l00297"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495aab609c384e2f89ded0e86f308da36616">00297</a>     <a class="code" href="ccnd__private_8h.html#a64d4281f797a99f7317a023249ff07e6aab609c384e2f89ded0e86f308da36616">FM_DATI</a>,
<a name="l00298"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495abf18d5b8e4f59f2d406be0caae4a2761">00298</a>     <a class="code" href="ccnd__private_8h.html#a64d4281f797a99f7317a023249ff07e6abf18d5b8e4f59f2d406be0caae4a2761">FM_INTO</a>,
<a name="l00299"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495aa5447fdfd2cd7b97b1228a556f33ffa2">00299</a>     <a class="code" href="ccnd__private_8h.html#a64d4281f797a99f7317a023249ff07e6aa5447fdfd2cd7b97b1228a556f33ffa2">FM_DATO</a>,
<a name="l00300"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495a35265b23808719ce3d1c75f71be21825">00300</a>     <a class="code" href="ccnd__private_8h.html#a64d4281f797a99f7317a023249ff07e6a35265b23808719ce3d1c75f71be21825">FM_INTI</a>,
<a name="l00301"></a><a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495a7aede2712e7d2fe9f6370b626f3da2cc">00301</a>     <a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495a7aede2712e7d2fe9f6370b626f3da2cc">CCNR_FACE_METER_N</a>
<a name="l00302"></a>00302 };
<a name="l00303"></a>00303 <span class="comment"></span>
<a name="l00304"></a>00304 <span class="comment">/**</span>
<a name="l00305"></a>00305 <span class="comment"> * Each fdholder is referenced by its file descriptor.</span>
<a name="l00306"></a>00306 <span class="comment"> */</span>
<a name="l00307"></a><a class="code" href="structfdholder.html">00307</a> <span class="keyword">struct </span><a class="code" href="structfdholder.html" title="Each fdholder is referenced by its file descriptor.">fdholder</a> {
<a name="l00308"></a><a class="code" href="structfdholder.html#ac908cd30e57c88fb92e778c88c61c5a5">00308</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structfdholder.html#ac908cd30e57c88fb92e778c88c61c5a5" title="file descriptor">filedesc</a>;          <span class="comment">/**&lt; file descriptor */</span>
<a name="l00309"></a><a class="code" href="structfdholder.html#a4333d63eec8e74bebfa6a208ac4a04e1">00309</a>     <span class="keywordtype">int</span> <a class="code" href="structfdholder.html#a4333d63eec8e74bebfa6a208ac4a04e1" title="CCNR_FACE_* fdholder flags.">flags</a>;                  <span class="comment">/**&lt; CCNR_FACE_* fdholder flags */</span>
<a name="l00310"></a><a class="code" href="structfdholder.html#a9961e10bb95e3c581582bc545749da84">00310</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structfdholder.html#a9961e10bb95e3c581582bc545749da84" title="for activity level monitoring">recvcount</a>;         <span class="comment">/**&lt; for activity level monitoring */</span>
<a name="l00311"></a><a class="code" href="structfdholder.html#a4de0fd2a2b46d43af90f46a28b460a55">00311</a>     <span class="keyword">struct </span><a class="code" href="structcontent__queue.html">content_queue</a> *<a class="code" href="structfdholder.html#a4de0fd2a2b46d43af90f46a28b460a55" title="outgoing content, per delay class">q</a>[<a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba7ffbfb12e45549cb96b8293639c45fcd">CCN_CQ_N</a>]; <span class="comment">/**&lt; outgoing content, per delay class */</span>
<a name="l00312"></a><a class="code" href="structfdholder.html#a8fc8c4a44f00fd8738149f5ebabe6510">00312</a>     off_t <a class="code" href="structfdholder.html#a8fc8c4a44f00fd8738149f5ebabe6510">bufoffset</a>;
<a name="l00313"></a><a class="code" href="structfdholder.html#afe614e89f412cf7b16477ed3244ab676">00313</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structfdholder.html#afe614e89f412cf7b16477ed3244ab676">inbuf</a>;  <span class="comment">/** Buffered input data */</span>
<a name="l00314"></a><a class="code" href="structfdholder.html#a74ac3e829ca9e59e78dc4296b0087801">00314</a>     <span class="keyword">struct </span><a class="code" href="structccn__skeleton__decoder.html">ccn_skeleton_decoder</a> <a class="code" href="structfdholder.html#a74ac3e829ca9e59e78dc4296b0087801" title="Buffered input data.">decoder</a>;
<a name="l00315"></a><a class="code" href="structfdholder.html#a86923f30f670aa49fd65e852d29daa26">00315</a>     <span class="keywordtype">size_t</span> <a class="code" href="structfdholder.html#a86923f30f670aa49fd65e852d29daa26">outbufindex</a>;         <span class="comment">/** Buffered output data */</span>
<a name="l00316"></a><a class="code" href="structfdholder.html#a938fa5f8863180a44d5628d3be2824b6">00316</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structfdholder.html#a938fa5f8863180a44d5628d3be2824b6" title="Buffered output data.">outbuf</a>;
<a name="l00317"></a><a class="code" href="structfdholder.html#a999d438f8d6746d3d73c728895ea9602">00317</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structfdholder.html#a999d438f8d6746d3d73c728895ea9602">name</a>;   <span class="comment">/** a sockaddr or file name, depending on flags */</span>
<a name="l00318"></a><a class="code" href="structfdholder.html#a289ebb5a479387530e31399af5273084">00318</a>     <span class="keywordtype">int</span> <a class="code" href="structfdholder.html#a289ebb5a479387530e31399af5273084" title="a sockaddr or file name, depending on flags">pending_interests</a>;
<a name="l00319"></a><a class="code" href="structfdholder.html#a9a6c1be5c2788e12b4106f679dc7d980">00319</a>     <span class="keyword">struct </span>ccnr_meter *<a class="code" href="structfdholder.html#a9a6c1be5c2788e12b4106f679dc7d980">meter</a>[<a class="code" href="ccnr__private_8h.html#a11e4411911ab1332d04935d8041ac495a7aede2712e7d2fe9f6370b626f3da2cc">CCNR_FACE_METER_N</a>];
<a name="l00320"></a>00320 };
<a name="l00321"></a>00321 <span class="comment"></span>
<a name="l00322"></a>00322 <span class="comment">/** fdholder flags */</span>
<a name="l00323"></a>00323 
<a name="l00324"></a><a class="code" href="ccnr__private_8h.html#a036a3d15d021ab23e1a588e402de5586">00324</a> <span class="preprocessor">#define CCNR_FACE_DGRAM  (1 &lt;&lt; 1) </span><span class="comment">/**&lt; Datagram interface, respect packets */</span>
<a name="l00325"></a><a class="code" href="ccnr__private_8h.html#aaa6759b4e8d735e24a69618919156b2b">00325</a> <span class="preprocessor">#define CCNR_FACE_GG     (1 &lt;&lt; 2) </span><span class="comment">/**&lt; Considered friendly */</span>
<a name="l00326"></a><a class="code" href="ccnr__private_8h.html#ad8221ac731fe32b6a1690487d1e569ef">00326</a> <span class="preprocessor">#define CCNR_FACE_LOCAL  (1 &lt;&lt; 3) </span><span class="comment">/**&lt; PF_UNIX socket */</span>
<a name="l00327"></a><a class="code" href="ccnr__private_8h.html#adace32c583071eebb603f21dbf6b6043">00327</a> <span class="preprocessor">#define CCNR_FACE_INET   (1 &lt;&lt; 4) </span><span class="comment">/**&lt; IPv4 */</span>
<a name="l00328"></a><a class="code" href="ccnr__private_8h.html#a2f01e75e466bf5bbd28745753268330b">00328</a> <span class="preprocessor">#define CCNR_FACE_INET6  (1 &lt;&lt; 6) </span><span class="comment">/**&lt; IPv6 */</span>
<a name="l00329"></a><a class="code" href="ccnr__private_8h.html#a1141793d92134b60bc5bb61c0ada2aa2">00329</a> <span class="preprocessor">#define CCNR_FACE_NOSEND (1 &lt;&lt; 8) </span><span class="comment">/**&lt; Don&#39;t send anymore */</span>
<a name="l00330"></a><a class="code" href="ccnr__private_8h.html#a57698dcb0d2d135575264be656d92490">00330</a> <span class="preprocessor">#define CCNR_FACE_UNDECIDED (1 &lt;&lt; 9) </span><span class="comment">/**&lt; Might not be talking ccn */</span>
<a name="l00331"></a><a class="code" href="ccnr__private_8h.html#adca06792211874c8fd823f6e04ba5fcb">00331</a> <span class="preprocessor">#define CCNR_FACE_PERMANENT (1 &lt;&lt; 10) </span><span class="comment">/**&lt; No timeout for inactivity */</span>
<a name="l00332"></a><a class="code" href="ccnr__private_8h.html#afa6d5da16538934d5515c1c83b838fdc">00332</a> <span class="preprocessor">#define CCNR_FACE_CONNECTING (1 &lt;&lt; 11) </span><span class="comment">/**&lt; Connect in progress */</span>
<a name="l00333"></a><a class="code" href="ccnr__private_8h.html#a08ab78ff1353c7769cbd48de610b0f00">00333</a> <span class="preprocessor">#define CCNR_FACE_LOOPBACK (1 &lt;&lt; 12) </span><span class="comment">/**&lt; v4 or v6 loopback address */</span>
<a name="l00334"></a><a class="code" href="ccnr__private_8h.html#a4df41105cb52adfe10e7624bd93fffdc">00334</a> <span class="preprocessor">#define CCNR_FACE_CLOSING (1 &lt;&lt; 13) </span><span class="comment">/**&lt; close stream when output is done */</span>
<a name="l00335"></a><a class="code" href="ccnr__private_8h.html#a9e6ccf754353e249fd88436e52290f94">00335</a> <span class="preprocessor">#define CCNR_FACE_PASSIVE (1 &lt;&lt; 14) </span><span class="comment">/**&lt; a listener or a bound dgram socket */</span>
<a name="l00336"></a><a class="code" href="ccnr__private_8h.html#affe6d30cce8ff19007e645c2edb35505">00336</a> <span class="preprocessor">#define CCNR_FACE_NORECV (1 &lt;&lt; 15) </span><span class="comment">/**&lt; use for sending only */</span>
<a name="l00337"></a><a class="code" href="ccnr__private_8h.html#af7dbc9e8fede4d97d924282930fab471">00337</a> <span class="preprocessor">#define CCNR_FACE_REPODATA (1 &lt;&lt; 19) </span><span class="comment">/** A repository log-structured data file */</span>
<a name="l00338"></a><a class="code" href="ccnr__private_8h.html#aa882865c6e1caeb64ec3f21fced8b96d">00338</a> <span class="preprocessor">#define CCNR_FACE_CCND (1 &lt;&lt; 20) </span><span class="comment">/** A connection to our ccnd */</span>
<a name="l00339"></a><a class="code" href="ccnr__private_8h.html#a305c3b922d1c6948590b35ef77bb269f">00339</a> <span class="preprocessor">#define CCNR_FACE_SOCKMASK (CCNR_FACE_DGRAM | CCNR_FACE_INET | CCNR_FACE_INET6 | CCNR_FACE_LOCAL)</span>
<a name="l00340"></a>00340 <span class="preprocessor"></span>
<a name="l00341"></a><a class="code" href="ccnr__private_8h.html#aa065f01949d39e9cdf018f197151995e">00341</a> <span class="preprocessor">#define CCN_NOFACEID    (-1)    </span><span class="comment">/** denotes no fdholder */</span>
<a name="l00342"></a>00342 <span class="comment"></span>
<a name="l00343"></a>00343 <span class="comment">/**</span>
<a name="l00344"></a>00344 <span class="comment"> *  A pointer to this is used as a handle for a content object that we</span>
<a name="l00345"></a>00345 <span class="comment"> *  currently care about.  Most details are private to the implementation.</span>
<a name="l00346"></a>00346 <span class="comment"> */</span>
<a name="l00347"></a>00347 <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a>;
<a name="l00348"></a>00348 <span class="comment"></span>
<a name="l00349"></a>00349 <span class="comment">/**</span>
<a name="l00350"></a>00350 <span class="comment"> * content_entry flags</span>
<a name="l00351"></a>00351 <span class="comment"> */</span>
<a name="l00352"></a><a class="code" href="ccnr__private_8h.html#a571f95194d5c4af4467f962886f0415d">00352</a> <span class="preprocessor">#define CCN_CONTENT_ENTRY_SLOWSEND  1</span>
<a name="l00353"></a><a class="code" href="ccnr__private_8h.html#a00a6291f95c31c46d5c2331f8d44e101">00353</a> <span class="preprocessor"></span><span class="preprocessor">#define CCN_CONTENT_ENTRY_STALE     2</span>
<a name="l00354"></a><a class="code" href="ccnr__private_8h.html#a4f5848952cb93cda71e852a19378a386">00354</a> <span class="preprocessor"></span><span class="preprocessor">#define CCN_CONTENT_ENTRY_PRECIOUS  4</span>
<a name="l00355"></a><a class="code" href="ccnr__private_8h.html#a07b974b3911f63ac9fd5393d8b33f20d">00355</a> <span class="preprocessor"></span><span class="preprocessor">#define CCN_CONTENT_ENTRY_STABLE    8 </span><span class="comment">/**&lt; Repository-backed */</span>
<a name="l00356"></a>00356 <span class="comment"></span>
<a name="l00357"></a>00357 <span class="comment">/**</span>
<a name="l00358"></a>00358 <span class="comment"> * The content_by_accession hash table, keyed by accession, holds</span>
<a name="l00359"></a>00359 <span class="comment"> * entries that have a known accession.</span>
<a name="l00360"></a>00360 <span class="comment"> */</span>
<a name="l00361"></a><a class="code" href="structcontent__by__accession__entry.html">00361</a> <span class="keyword">struct </span><a class="code" href="structcontent__by__accession__entry.html" title="The content_by_accession hash table, keyed by accession, holds entries that have...">content_by_accession_entry</a> {
<a name="l00362"></a><a class="code" href="structcontent__by__accession__entry.html#ab9e0ee1b4e1a092d9d655a5e46daa88f">00362</a>     <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a> *<a class="code" href="structcontent__by__accession__entry.html#ab9e0ee1b4e1a092d9d655a5e46daa88f">content</a>;
<a name="l00363"></a>00363 };
<a name="l00364"></a>00364 <span class="comment"></span>
<a name="l00365"></a>00365 <span class="comment">/**</span>
<a name="l00366"></a>00366 <span class="comment"> * The propagating interest hash table is keyed by Nonce.</span>
<a name="l00367"></a>00367 <span class="comment"> *</span>
<a name="l00368"></a>00368 <span class="comment"> * While the interest is pending, the pe is also kept in a doubly-linked</span>
<a name="l00369"></a>00369 <span class="comment"> * list off of a nameprefix_entry.</span>
<a name="l00370"></a>00370 <span class="comment"> *</span>
<a name="l00371"></a>00371 <span class="comment"> * When the interest is consumed, the pe is removed from the doubly-linked</span>
<a name="l00372"></a>00372 <span class="comment"> * list and is cleaned up by freeing unnecessary bits (including the interest</span>
<a name="l00373"></a>00373 <span class="comment"> * message itself).  It remains in the hash table for a time, in order to catch</span>
<a name="l00374"></a>00374 <span class="comment"> * duplicate nonces.</span>
<a name="l00375"></a>00375 <span class="comment"> */</span>
<a name="l00376"></a><a class="code" href="structpropagating__entry.html">00376</a> <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> {
<a name="l00377"></a><a class="code" href="structpropagating__entry.html#af2f1f7528e9fb8b13954021a70af90a9">00377</a>     <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> *<a class="code" href="structpropagating__entry.html#af2f1f7528e9fb8b13954021a70af90a9">next</a>;
<a name="l00378"></a><a class="code" href="structpropagating__entry.html#a62dab621f69bcb6f6f4a8735d2bcc83f">00378</a>     <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> *<a class="code" href="structpropagating__entry.html#a62dab621f69bcb6f6f4a8735d2bcc83f">prev</a>;
<a name="l00379"></a><a class="code" href="structpropagating__entry.html#ac4b5769fcadbf8a4588518ed393159e3">00379</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structpropagating__entry.html#ac4b5769fcadbf8a4588518ed393159e3" title="CCN_PR_xxx.">flags</a>;             <span class="comment">/**&lt; CCN_PR_xxx */</span>
<a name="l00380"></a><a class="code" href="structpropagating__entry.html#aa23a2c039b3e942dfad1f36a801e9a03">00380</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structpropagating__entry.html#aa23a2c039b3e942dfad1f36a801e9a03" title="origin of the interest, dest for matches">filedesc</a>;            <span class="comment">/**&lt; origin of the interest, dest for matches */</span>
<a name="l00381"></a><a class="code" href="structpropagating__entry.html#ae68891ca75d260b75d5787e1fc283677">00381</a>     <span class="keywordtype">int</span> <a class="code" href="structpropagating__entry.html#ae68891ca75d260b75d5787e1fc283677" title="usec until timeout">usec</a>;                   <span class="comment">/**&lt; usec until timeout */</span>
<a name="l00382"></a><a class="code" href="structpropagating__entry.html#a9c1a95754f0dc9ca1617d017ef132414">00382</a>     <span class="keywordtype">int</span> <a class="code" href="structpropagating__entry.html#a9c1a95754f0dc9ca1617d017ef132414" title="leading faceids of outbound processed">sent</a>;                   <span class="comment">/**&lt; leading faceids of outbound processed */</span>
<a name="l00383"></a><a class="code" href="structpropagating__entry.html#a2c9ba7fedcc82c17fde4ed115368c2c3">00383</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structpropagating__entry.html#a2c9ba7fedcc82c17fde4ed115368c2c3" title="in order of use">outbound</a>; <span class="comment">/**&lt; in order of use */</span>
<a name="l00384"></a><a class="code" href="structpropagating__entry.html#aec606895ecaae8a9f577c1a42cf63954">00384</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structpropagating__entry.html#aec606895ecaae8a9f577c1a42cf63954" title="pending interest message">interest_msg</a>; <span class="comment">/**&lt; pending interest message */</span>
<a name="l00385"></a><a class="code" href="structpropagating__entry.html#aad07ababb860eb48ff176b1981358a4a">00385</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structpropagating__entry.html#aad07ababb860eb48ff176b1981358a4a" title="size in bytes of interest_msg">size</a>;              <span class="comment">/**&lt; size in bytes of interest_msg */</span>
<a name="l00386"></a><a class="code" href="structpropagating__entry.html#aad45be0d39bf52823c8abf74bdef2fb4">00386</a>     <span class="keywordtype">int</span> <a class="code" href="structpropagating__entry.html#aad45be0d39bf52823c8abf74bdef2fb4" title="decide if outbound is stale">fgen</a>;                   <span class="comment">/**&lt; decide if outbound is stale */</span>
<a name="l00387"></a>00387 };
<a name="l00388"></a>00388 <span class="comment">// XXX - with new outbound/sent repr, some of these flags may not be needed.</span>
<a name="l00389"></a><a class="code" href="ccnr__private_8h.html#a9bcd68a5e778698a98329f3bee0ae7b1">00389</a> <span class="preprocessor">#define CCN_PR_UNSENT   0x01 </span><span class="comment">/**&lt; interest has not been sent anywhere yet */</span>
<a name="l00390"></a><a class="code" href="ccnr__private_8h.html#ac25e7dd8bc398dcee8acdc8e18691a75">00390</a> <span class="preprocessor">#define CCN_PR_WAIT1    0x02 </span><span class="comment">/**&lt; interest has been sent to one place */</span>
<a name="l00391"></a><a class="code" href="ccnr__private_8h.html#aeee6f89931b5f5d10cb445a139424a7f">00391</a> <span class="preprocessor">#define CCN_PR_STUFFED1 0x04 </span><span class="comment">/**&lt; was stuffed before sent anywhere else */</span>
<a name="l00392"></a><a class="code" href="ccnr__private_8h.html#abc0a586b24f022b40ad0334cc2af24c8">00392</a> <span class="preprocessor">#define CCN_PR_TAP      0x08 </span><span class="comment">/**&lt; at least one tap fdholder is present */</span>
<a name="l00393"></a><a class="code" href="ccnr__private_8h.html#a11da46430898ee05f795b8ccce628df5">00393</a> <span class="preprocessor">#define CCN_PR_EQV      0x10 </span><span class="comment">/**&lt; a younger similar interest exists */</span>
<a name="l00394"></a><a class="code" href="ccnr__private_8h.html#adb1ee8b4e17cd099bb35f7b7d6804eb3">00394</a> <span class="preprocessor">#define CCN_PR_SCOPE0   0x20 </span><span class="comment">/**&lt; interest scope is 0 */</span>
<a name="l00395"></a><a class="code" href="ccnr__private_8h.html#a4fd508d499d596861034fd5910b4f760">00395</a> <span class="preprocessor">#define CCN_PR_SCOPE1   0x40 </span><span class="comment">/**&lt; interest scope is 1 (this host) */</span>
<a name="l00396"></a><a class="code" href="ccnr__private_8h.html#aad5a6167c75b4271513d316ea49abf08">00396</a> <span class="preprocessor">#define CCN_PR_SCOPE2   0x80 </span><span class="comment">/**&lt; interest scope is 2 (immediate neighborhood) */</span>
<a name="l00397"></a>00397 <span class="comment"></span>
<a name="l00398"></a>00398 <span class="comment">/**</span>
<a name="l00399"></a>00399 <span class="comment"> * The nameprefix hash table is keyed by the Component elements of</span>
<a name="l00400"></a>00400 <span class="comment"> * the Name prefix.</span>
<a name="l00401"></a>00401 <span class="comment"> */</span>
<a name="l00402"></a>00402 <span class="keyword">struct </span><a class="code" href="structnameprefix__entry.html" title="The nameprefix hash table is keyed by the Component elements of the Name prefix.">nameprefix_entry</a> {
<a name="l00403"></a><a class="code" href="structnameprefix__entry.html#a7d76cb9416bbb004ebee4001b1093972">00403</a>     <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> <a class="code" href="structnameprefix__entry.html#a7d76cb9416bbb004ebee4001b1093972" title="list head for propagating entries">pe_head</a>; <span class="comment">/**&lt; list head for propagating entries */</span>
<a name="l00404"></a>00404     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structnameprefix__entry.html#a4a73e36df4b523665198dc121e86425a" title="faceids to forward to">forward_to</a>; <span class="comment">/**&lt; faceids to forward to */</span>
<a name="l00405"></a>00405     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structnameprefix__entry.html#afee90f89ca52189a8f2c7ab455f92120" title="faceids to forward to as tap">tap</a>;    <span class="comment">/**&lt; faceids to forward to as tap*/</span>
<a name="l00406"></a>00406     <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a> *<a class="code" href="structnameprefix__entry.html#ae85462e3ad1a168352ee964d687e67e9" title="detailed forwarding info">forwarding</a>; <span class="comment">/**&lt; detailed forwarding info */</span>
<a name="l00407"></a>00407     <span class="keyword">struct </span><a class="code" href="structnameprefix__entry.html" title="The nameprefix hash table is keyed by the Component elements of the Name prefix.">nameprefix_entry</a> *<a class="code" href="structnameprefix__entry.html#a0f4ac145c25e365b27c246c69a5d53f8" title="link to next-shorter prefix">parent</a>; <span class="comment">/**&lt; link to next-shorter prefix */</span>
<a name="l00408"></a>00408     <span class="keywordtype">int</span> <a class="code" href="structnameprefix__entry.html#a52621a838e2d3549a4c39fdb70640cb8" title="number of children">children</a>;                <span class="comment">/**&lt; number of children */</span>
<a name="l00409"></a>00409     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a57b0cbe3eeaee2c179c317a949bb72f9" title="CCN_FORW_* flags about namespace.">flags</a>;              <span class="comment">/**&lt; CCN_FORW_* flags about namespace */</span>
<a name="l00410"></a>00410     <span class="keywordtype">int</span> <a class="code" href="structnameprefix__entry.html#a57e331ba26a2b2310b21186f99d180b1" title="used to decide when forward_to is stale">fgen</a>;                    <span class="comment">/**&lt; used to decide when forward_to is stale */</span>
<a name="l00411"></a>00411     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a4328bffb4dd6acdbae9f4af66a4e75a3" title="faceid of recent content source">src</a>;                <span class="comment">/**&lt; filedesc of recent content source */</span>
<a name="l00412"></a>00412     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a2c9e29f5951a4d97667c348b10e3b18c" title="and of older matching content">osrc</a>;               <span class="comment">/**&lt; and of older matching content */</span>
<a name="l00413"></a>00413     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a146758d80c2f0ca082e7154f54b02569" title="response-time prediction">usec</a>;               <span class="comment">/**&lt; response-time prediction */</span>
<a name="l00414"></a>00414 };
<a name="l00415"></a>00415 <span class="comment"></span>
<a name="l00416"></a>00416 <span class="comment">/**</span>
<a name="l00417"></a>00417 <span class="comment"> * Keeps track of the faces that interests matching a given name prefix may be</span>
<a name="l00418"></a>00418 <span class="comment"> * forwarded to.</span>
<a name="l00419"></a>00419 <span class="comment"> */</span>
<a name="l00420"></a>00420 <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a> {
<a name="l00421"></a><a class="code" href="structccn__forwarding.html#a71dd31c2626150c7a7e5a891b03bc48b">00421</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccn__forwarding.html#a71dd31c2626150c7a7e5a891b03bc48b" title="locally unique number identifying fdholder">filedesc</a>;             <span class="comment">/**&lt; locally unique number identifying fdholder */</span>
<a name="l00422"></a>00422     <span class="keywordtype">unsigned</span> <a class="code" href="structccn__forwarding.html#adb3efb00c9a033ee86d74c1411431611" title="CCN_FORW_* - c.f.">flags</a>;              <span class="comment">/**&lt; CCN_FORW_* - c.f. &lt;ccn/reg_mgnt.h&gt; */</span>
<a name="l00423"></a>00423     <span class="keywordtype">int</span> <a class="code" href="structccn__forwarding.html#a7d36f69f54e42a23366084ab184f9e56" title="time remaining, in seconds">expires</a>;                 <span class="comment">/**&lt; time remaining, in seconds */</span>
<a name="l00424"></a>00424     <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a> *<a class="code" href="structccn__forwarding.html#ac989452be7f4f697544bc6463760c162">next</a>;
<a name="l00425"></a>00425 };
<a name="l00426"></a>00426 <span class="comment"></span>
<a name="l00427"></a>00427 <span class="comment">/**</span>
<a name="l00428"></a>00428 <span class="comment"> * Keeps track of the state of running and recently completed enumerations</span>
<a name="l00429"></a>00429 <span class="comment"> * The enum_state hash table is keyed by the interest up to the segment id</span>
<a name="l00430"></a>00430 <span class="comment"> */</span>
<a name="l00431"></a><a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8ea">00431</a> <span class="keyword">enum</span> <a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8ea" title="Keeps track of the state of running and recently completed enumerations The enum_state...">es_active_state</a> {
<a name="l00432"></a><a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaa1089b420949e8a5c7e1941661eae5c0b">00432</a>     <a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaa1089b420949e8a5c7e1941661eae5c0b">ES_PENDING</a> = -1,
<a name="l00433"></a><a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaa2fbb7bd9e6595187077698d89a850e0a">00433</a>     <a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaa2fbb7bd9e6595187077698d89a850e0a">ES_INACTIVE</a> = 0,
<a name="l00434"></a><a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaac46618d3f50abcd35f828f1604867d17">00434</a>     <a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaac46618d3f50abcd35f828f1604867d17">ES_ACTIVE</a> = 1,
<a name="l00435"></a><a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaa18866cec422c118912ab6f920c640313">00435</a>     <a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8eaa18866cec422c118912ab6f920c640313">ES_ACTIVE_PENDING_INACTIVE</a> = 2
<a name="l00436"></a>00436 };
<a name="l00437"></a><a class="code" href="ccnr__private_8h.html#aad037352217601f68b01e07776c6f0c3">00437</a> <span class="preprocessor">#define ENUM_N_COBS 9</span>
<a name="l00438"></a><a class="code" href="structenum__state.html">00438</a> <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="structenum__state.html">enum_state</a> {
<a name="l00439"></a><a class="code" href="structenum__state.html#a556983d4b4b1073f7605779c4f488cbb">00439</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structenum__state.html#a556983d4b4b1073f7605779c4f488cbb">name</a>;
<a name="l00440"></a><a class="code" href="structenum__state.html#af8d02d1473f589418b8aa7590788eef8">00440</a>     <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a> *<a class="code" href="structenum__state.html#af8d02d1473f589418b8aa7590788eef8">content</a>;
<a name="l00441"></a><a class="code" href="structenum__state.html#aba41a40dd7e71c7f6a431857672fb5b8">00441</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structenum__state.html#aba41a40dd7e71c7f6a431857672fb5b8">reply_body</a>;
<a name="l00442"></a><a class="code" href="structenum__state.html#a523196f897efab74dfba5c732d8597e8">00442</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structenum__state.html#a523196f897efab74dfba5c732d8597e8">interest</a>;
<a name="l00443"></a><a class="code" href="structenum__state.html#a983b607b7e0f784162e95473917f4e43">00443</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structenum__state.html#a983b607b7e0f784162e95473917f4e43">interest_comps</a>;
<a name="l00444"></a><a class="code" href="structenum__state.html#a50537883df14c53ad8475f35d63a681c">00444</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structenum__state.html#a50537883df14c53ad8475f35d63a681c">cob</a>[<a class="code" href="ccnr__private_8h.html#aad037352217601f68b01e07776c6f0c3">ENUM_N_COBS</a>];
<a name="l00445"></a><a class="code" href="structenum__state.html#a56c207d4d4cb6fb08f023c2451719931">00445</a>     <span class="keywordtype">int</span> <a class="code" href="structenum__state.html#a56c207d4d4cb6fb08f023c2451719931">cob_deferred</a>[<a class="code" href="ccnr__private_8h.html#aad037352217601f68b01e07776c6f0c3">ENUM_N_COBS</a>];
<a name="l00446"></a><a class="code" href="structenum__state.html#a30a987df0999bff3466605eab62fce68">00446</a>     intmax_t <a class="code" href="structenum__state.html#a30a987df0999bff3466605eab62fce68">next_segment</a>;
<a name="l00447"></a><a class="code" href="structenum__state.html#aa96f4d061cb4809f43f1049ab850432c">00447</a>     <a class="code" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593" title="A cookie is used as a more ephemeral way of holding a reference to a content object...">ccnr_cookie</a> <a class="code" href="structenum__state.html#aa96f4d061cb4809f43f1049ab850432c">starting_cookie</a>;
<a name="l00448"></a><a class="code" href="structenum__state.html#a76892d4297718af6f55d17166ad46822">00448</a>     <span class="keyword">enum</span> <a class="code" href="ccnr__private_8h.html#a9d0a349f5750f51944256996129ef8ea" title="Keeps track of the state of running and recently completed enumerations The enum_state...">es_active_state</a> <a class="code" href="structenum__state.html#a76892d4297718af6f55d17166ad46822">active</a>;
<a name="l00449"></a><a class="code" href="structenum__state.html#abe951530e08bf00b087d1c82ae3bdb64">00449</a>     <span class="keywordtype">long</span> <a class="code" href="structenum__state.html#abe951530e08bf00b087d1c82ae3bdb64">lifetime</a>;
<a name="l00450"></a><a class="code" href="structenum__state.html#afb0691182f4333d1530b92ee30321e93">00450</a>     <span class="keywordtype">long</span> <a class="code" href="structenum__state.html#afb0691182f4333d1530b92ee30321e93">lastuse_sec</a>;
<a name="l00451"></a><a class="code" href="structenum__state.html#af3fe5372ea130351c48712b9a55fb9c9">00451</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structenum__state.html#af3fe5372ea130351c48712b9a55fb9c9">lastuse_usec</a>;
<a name="l00452"></a>00452 };
<a name="l00453"></a>00453 <span class="comment"></span>
<a name="l00454"></a>00454 <span class="comment">/**</span>
<a name="l00455"></a>00455 <span class="comment"> * @def CCN_FORW_ACTIVE         1</span>
<a name="l00456"></a>00456 <span class="comment"> * @def CCN_FORW_CHILD_INHERIT  2</span>
<a name="l00457"></a>00457 <span class="comment"> * @def CCN_FORW_ADVERTISE      4</span>
<a name="l00458"></a>00458 <span class="comment"> * @def CCN_FORW_LAST           8</span>
<a name="l00459"></a>00459 <span class="comment"> * @def CCN_FORW_CAPTURE       16</span>
<a name="l00460"></a>00460 <span class="comment"> * @def CCN_FORW_LOCAL         32</span>
<a name="l00461"></a>00461 <span class="comment"> */</span>
<a name="l00462"></a><a class="code" href="ccnr__private_8h.html#aab5527f73c856f3f5e8a407b9d4914cf">00462</a> <span class="preprocessor">#define CCN_FORW_PFXO (CCN_FORW_ADVERTISE | CCN_FORW_CAPTURE | CCN_FORW_LOCAL)</span>
<a name="l00463"></a><a class="code" href="ccnr__private_8h.html#a90e706e667db8dc2815a9634bfccf099">00463</a> <span class="preprocessor"></span><span class="preprocessor">#define CCN_FORW_REFRESHED      (1 &lt;&lt; 16) </span><span class="comment">/**&lt; private to ccnr */</span>
<a name="l00464"></a>00464 
<a name="l00465"></a>00465  <span class="comment"></span>
<a name="l00466"></a>00466 <span class="comment">/**</span>
<a name="l00467"></a>00467 <span class="comment"> * Determines how frequently we age our forwarding entries</span>
<a name="l00468"></a>00468 <span class="comment"> */</span>
<a name="l00469"></a><a class="code" href="ccnr__private_8h.html#a487d9e5d8c994dff453ab6e471a6d737">00469</a> <span class="preprocessor">#define CCN_FWU_SECS 5</span>
<a name="l00470"></a>00470 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00471"></a>00471 <span class="comment">/**</span>
<a name="l00472"></a>00472 <span class="comment"> * URIs for prefixes served by the internal client</span>
<a name="l00473"></a>00473 <span class="comment"> */</span>
<a name="l00474"></a><a class="code" href="ccnr__private_8h.html#a001bffe97e88a7613b8688eb68288dbd">00474</a> <span class="preprocessor">#define CCNRID_LOCAL_URI &quot;ccnx:/%C1.M.S.localhost/%C1.M.SRV/repository/KEY&quot;</span>
<a name="l00475"></a><a class="code" href="ccnr__private_8h.html#acce087fa46105220505542700242d155">00475</a> <span class="preprocessor"></span><span class="preprocessor">#define CCNRID_NEIGHBOR_URI &quot;ccnx:/%C1.M.S.neighborhood/%C1.M.SRV/repository/KEY&quot;</span>
<a name="l00476"></a><a class="code" href="ccnr__private_8h.html#a826b5ca4e52c4a681f060eaccdf30a36">00476</a> <span class="preprocessor"></span><span class="preprocessor">#define CCNRID_POLICY_URI &quot;ccnx:/%C1.M.S.localhost/%C1.M.SRV/repository/POLICY&quot;</span>
<a name="l00477"></a>00477 <span class="preprocessor"></span>
<a name="l00478"></a><a class="code" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">00478</a> <span class="preprocessor">#define PUBLIC</span>
<a name="l00479"></a>00479 <span class="preprocessor"></span>
<a name="l00480"></a>00480 <span class="keyword">struct </span><a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *<a class="code" href="ccnr__init_8c.html#a337e64286f21bd4e6f979a1dc5f45794" title="Create a new ccnr instance.">r_init_create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <a class="code" href="ccnr__private_8h.html#a456024fa14a9808a43a7060e1eaff30c" title="Logger type (ccnr_logger).">ccnr_logger</a>, <span class="keywordtype">void</span> *);
<a name="l00481"></a>00481 <span class="keywordtype">void</span> <a class="code" href="ccnr__private_8h.html#a3c19c2b04878cca22ae1126720970eec">r_init_run</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> *h);
<a name="l00482"></a>00482 <span class="keywordtype">void</span> <a class="code" href="ccnr__init_8c.html#aa83169c44e7cff69284b303f4b967f81" title="Destroy the ccnr instance, releasing all associated resources.">r_init_destroy</a>(<span class="keyword">struct</span> <a class="code" href="structccnr__handle.html" title="We pass this handle almost everywhere within ccnr.">ccnr_handle</a> **);
<a name="l00483"></a>00483 
<a name="l00484"></a>00484 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Feb 4 11:56:45 2013 for Content-Centric Networking in C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
